<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>An Introduction to FsPickler
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="A general-purpose serialization library for .NET"/>
    <meta name="author" content="Eirik Tsarpalis"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/FsPickler/content/style.css" />
    <script type="text/javascript" src="/FsPickler/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://mbrace.io/">mbrace</a></li>
          <li><a href="http://github.com/mbraceproject/FsPickler">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/FsPickler/index.html">FsPickler</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          <h1><a name="An-Introduction-to-FsPickler" class="anchor" href="#An-Introduction-to-FsPickler">An Introduction to FsPickler</a></h1>
<p>The following provides an overview of the basic functionalities offered by the library.</p>
<h2><a name="The-core-serialization-API" class="anchor" href="#The-core-serialization-API">The core serialization API</a></h2>
<p>The basic API is accessible through instances of type <a href="reference/mbrace-fspickler-fspicklerserializer.html"><code>FsPicklerSerializer</code></a>
that can be initialized as follows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;FsPickler.dll&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs8', 25)" onmouseover="showTip(event, 'fs8', 25)" class="id">MBrace</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 26)" onmouseover="showTip(event, 'fs9', 26)" class="id">FsPickler</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 27)" onmouseover="showTip(event, 'fs15', 27)" class="id">binarySerializer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 28)" onmouseover="showTip(event, 'fs16', 28)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 29)" onmouseover="showTip(event, 'fs17', 29)" class="id">CreateBinarySerializer</span><span class="pn">(</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 30)" onmouseover="showTip(event, 'fs18', 30)" class="id">xmlSerializer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 31)" onmouseover="showTip(event, 'fs16', 31)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 32)" onmouseover="showTip(event, 'fs19', 32)" class="id">CreateXmlSerializer</span><span class="pn">(</span><span class="id">indent</span> <span class="o">=</span> <span class="k">true</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>Json serialization formats can be accessed by referencing the <code>FsPickler.Json</code> project.
If evaluating from F# interactive, make sure to <a href="https://github.com/mbraceproject/FsPickler/issues/16">add an explicit reference to Json.Net</a>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;Newtonsoft.Json.dll&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;FsPickler.Json.dll&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs8', 33)" onmouseover="showTip(event, 'fs8', 33)" class="id">MBrace</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 34)" onmouseover="showTip(event, 'fs9', 34)" class="id">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 35)" onmouseover="showTip(event, 'fs20', 35)" class="id">Json</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="id">jsonSerializer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 37)" onmouseover="showTip(event, 'fs22', 37)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 38)" onmouseover="showTip(event, 'fs23', 38)" class="id">CreateJsonSerializer</span><span class="pn">(</span><span class="id">indent</span> <span class="o">=</span> <span class="k">false</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>A simple serialization/deserialization roundtrip can be performed as follows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs18', 39)" onmouseover="showTip(event, 'fs18', 39)" class="fn">xmlSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 40)" onmouseover="showTip(event, 'fs24', 40)" class="id">Serialize</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs1', 41)" onmouseover="showTip(event, 'fs1', 41)" class="id">stream</span><span class="pn">,</span> <span class="pn">[</span><span class="n">0.</span> <span class="o">..</span> <span class="n">0.1</span> <span class="o">..</span> <span class="n">1.</span><span class="pn">]</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs18', 42)" onmouseover="showTip(event, 'fs18', 42)" class="fn">xmlSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 43)" onmouseover="showTip(event, 'fs25', 43)" class="id">Deserialize</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs26', 44)" onmouseover="showTip(event, 'fs26', 44)" class="vt">float</span> <span onmouseout="hideTip(event, 'fs27', 45)" onmouseover="showTip(event, 'fs27', 45)" class="rt">list</span><span class="pn">&gt;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs1', 46)" onmouseover="showTip(event, 'fs1', 46)" class="id">stream</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>FsPickler instances can be used to produce binary pickles,
that is byte arrays containing the serialized values:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 47)" onmouseover="showTip(event, 'fs28', 47)" class="id">pickle</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 48)" onmouseover="showTip(event, 'fs15', 48)" class="fn">binarySerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 49)" onmouseover="showTip(event, 'fs29', 49)" class="id">Pickle</span> <span class="pn">&lt;@</span> <span class="n">1</span> <span class="o">+</span> <span class="n">1</span> <span class="pn">@&gt;</span>
<span onmouseout="hideTip(event, 'fs15', 50)" onmouseover="showTip(event, 'fs15', 50)" class="fn">binarySerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 51)" onmouseover="showTip(event, 'fs30', 51)" class="id">UnPickle</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs31', 52)" onmouseover="showTip(event, 'fs31', 52)" class="rt">Quotations</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 53)" onmouseover="showTip(event, 'fs32', 53)" class="id">Expr</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs33', 54)" onmouseover="showTip(event, 'fs33', 54)" class="vt">int</span><span class="pn">&gt;</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs28', 55)" onmouseover="showTip(event, 'fs28', 55)" class="id">pickle</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Text-based-serialization" class="anchor" href="#Text-based-serialization">Text-based serialization</a></h3>
<p>The Xml and Json serializers are instances of type <a href="reference/mbrace-fspickler-fspicklertextserializer.html"><code>FsPicklerTextSerializer</code></a>
that offers functionality for text-based serialization:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs18', 56)" onmouseover="showTip(event, 'fs18', 56)" class="fn">xmlSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 57)" onmouseover="showTip(event, 'fs24', 57)" class="id">Serialize</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 58)" onmouseover="showTip(event, 'fs11', 58)" class="id">textWriter</span><span class="pn">,</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs34', 59)" onmouseover="showTip(event, 'fs34', 59)" class="uc">Some</span> <span class="n">1</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs34', 60)" onmouseover="showTip(event, 'fs34', 60)" class="uc">Some</span> <span class="n">2</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs35', 61)" onmouseover="showTip(event, 'fs35', 61)" class="uc">None</span> <span class="pn">]</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs18', 62)" onmouseover="showTip(event, 'fs18', 62)" class="fn">xmlSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 63)" onmouseover="showTip(event, 'fs25', 63)" class="id">Deserialize</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs33', 64)" onmouseover="showTip(event, 'fs33', 64)" class="vt">int</span> <span onmouseout="hideTip(event, 'fs36', 65)" onmouseover="showTip(event, 'fs36', 65)" class="rt">option</span> <span onmouseout="hideTip(event, 'fs27', 66)" onmouseover="showTip(event, 'fs27', 66)" class="rt">list</span><span class="pn">&gt;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs13', 67)" onmouseover="showTip(event, 'fs13', 67)" class="id">textReader</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 68)" onmouseover="showTip(event, 'fs37', 68)" class="id">text</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 69)" onmouseover="showTip(event, 'fs21', 69)" class="fn">jsonSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 70)" onmouseover="showTip(event, 'fs38', 70)" class="id">PickleToString</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs39', 71)" onmouseover="showTip(event, 'fs39', 71)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs39', 72)" onmouseover="showTip(event, 'fs39', 72)" class="id">x</span> <span class="o">+</span> <span class="n">1</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs21', 73)" onmouseover="showTip(event, 'fs21', 73)" class="fn">jsonSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs40', 74)" onmouseover="showTip(event, 'fs40', 74)" class="id">UnPickleOfString</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs33', 75)" onmouseover="showTip(event, 'fs33', 75)" class="vt">int</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 76)" onmouseover="showTip(event, 'fs33', 76)" class="vt">int</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs37', 77)" onmouseover="showTip(event, 'fs37', 77)" class="id">text</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Sequence-serialization" class="anchor" href="#Sequence-serialization">Sequence serialization</a></h3>
<p>FsPickler offers support for on-demand sequence serialization/deserialization:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 78)" onmouseover="showTip(event, 'fs41', 78)" class="id">seq</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs42', 79)" onmouseover="showTip(event, 'fs42', 79)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs43', 80)" onmouseover="showTip(event, 'fs43', 80)" class="id">initInfinite</span> <span onmouseout="hideTip(event, 'fs44', 81)" onmouseover="showTip(event, 'fs44', 81)" class="fn">string</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs42', 82)" onmouseover="showTip(event, 'fs42', 82)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs45', 83)" onmouseover="showTip(event, 'fs45', 83)" class="id">take</span> <span class="n">100</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 84)" onmouseover="showTip(event, 'fs46', 84)" class="id">length</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 85)" onmouseover="showTip(event, 'fs15', 85)" class="fn">binarySerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs47', 86)" onmouseover="showTip(event, 'fs47', 86)" class="id">SerializeSequence</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs1', 87)" onmouseover="showTip(event, 'fs1', 87)" class="id">stream</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs41', 88)" onmouseover="showTip(event, 'fs41', 88)" class="id">seq</span><span class="pn">)</span> <span class="c">// returns the length of serialized elements</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 89)" onmouseover="showTip(event, 'fs48', 89)" class="id">seq&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 90)" onmouseover="showTip(event, 'fs15', 90)" class="fn">binarySerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 91)" onmouseover="showTip(event, 'fs49', 91)" class="id">DeserializeSequence</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs33', 92)" onmouseover="showTip(event, 'fs33', 92)" class="vt">int</span><span class="pn">&gt;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs1', 93)" onmouseover="showTip(event, 'fs1', 93)" class="id">stream</span><span class="pn">)</span> <span class="c">// lazy deserialization IEnumerable</span>
<span onmouseout="hideTip(event, 'fs42', 94)" onmouseover="showTip(event, 'fs42', 94)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs50', 95)" onmouseover="showTip(event, 'fs50', 95)" class="id">toArray</span> <span onmouseout="hideTip(event, 'fs48', 96)" onmouseover="showTip(event, 'fs48', 96)" class="id">seq&#39;</span> <span class="c">// evaluation forces full deserialization</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Picklers-and-Pickler-combinators" class="anchor" href="#Picklers-and-Pickler-combinators">Picklers and Pickler combinators</a></h2>
<p>A pickler is essentially the type</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs51', 97)" onmouseover="showTip(event, 'fs51', 97)" class="rt">Pickler</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="o">=</span>
    <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs52', 98)" onmouseover="showTip(event, 'fs52', 98)" class="fn">Write</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs53', 99)" onmouseover="showTip(event, 'fs53', 99)" class="rt">WriteState</span> <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs54', 100)" onmouseover="showTip(event, 'fs54', 100)" class="rt">unit</span>
        <span onmouseout="hideTip(event, 'fs55', 101)" onmouseover="showTip(event, 'fs55', 101)" class="fn">Read</span>  <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs56', 102)" onmouseover="showTip(event, 'fs56', 102)" class="rt">ReadState</span>  <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T</span>
    <span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<p>which defines the serialization/deserialization rules for a given type.
Picklers are strongly typed and perform serialization without reflection
or intermediate boxings.</p>
<p>There are two kinds of picklers:</p>
<ul>
<li>
<p>Primitive or atomic picklers that are self-contained definitions
for simple values like primitives, strings or timespans.</p>
</li>
<li>
<p>Composite picklers which are derived from composition of simpler types.
They are generated using <em>pickler combinators</em>, functions taking a collection
of picklers as inputs yielding a composite result.</p>
</li>
</ul>
<p>FsPickler is essentially an automated pickler generation framework: picklers are generated at runtime
and on demand using a combination of reflection and dynamic IL generation. Picklers are cached for
future use, hence the cost of generation has a constant price.</p>
<p>Moreover, the library provides an experimental combinator module that allows direct manipulation
of picklers in a more functional style:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs8', 105)" onmouseover="showTip(event, 'fs8', 105)" class="id">MBrace</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 106)" onmouseover="showTip(event, 'fs9', 106)" class="id">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 107)" onmouseover="showTip(event, 'fs57', 107)" class="id">Combinators</span>

<span class="c">// atomic picklers</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 108)" onmouseover="showTip(event, 'fs58', 108)" class="id">int</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 109)" onmouseover="showTip(event, 'fs59', 109)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 110)" onmouseover="showTip(event, 'fs60', 110)" class="id">int</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 111)" onmouseover="showTip(event, 'fs61', 111)" class="id">string</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 112)" onmouseover="showTip(event, 'fs59', 112)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 113)" onmouseover="showTip(event, 'fs62', 113)" class="id">string</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 114)" onmouseover="showTip(event, 'fs63', 114)" class="id">dateTime</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 115)" onmouseover="showTip(event, 'fs59', 115)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs63', 116)" onmouseover="showTip(event, 'fs63', 116)" class="id">dateTime</span>

<span class="c">// composite picklers</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 117)" onmouseover="showTip(event, 'fs64', 117)" class="id">p1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 118)" onmouseover="showTip(event, 'fs59', 118)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs65', 119)" onmouseover="showTip(event, 'fs65', 119)" class="id">pair</span> <span onmouseout="hideTip(event, 'fs58', 120)" onmouseover="showTip(event, 'fs58', 120)" class="id">int</span> <span onmouseout="hideTip(event, 'fs63', 121)" onmouseover="showTip(event, 'fs63', 121)" class="id">dateTime</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 122)" onmouseover="showTip(event, 'fs66', 122)" class="id">p2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 123)" onmouseover="showTip(event, 'fs59', 123)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 124)" onmouseover="showTip(event, 'fs67', 124)" class="id">option</span> <span onmouseout="hideTip(event, 'fs61', 125)" onmouseover="showTip(event, 'fs61', 125)" class="id">string</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 126)" onmouseover="showTip(event, 'fs68', 126)" class="id">p3</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 127)" onmouseover="showTip(event, 'fs59', 127)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 128)" onmouseover="showTip(event, 'fs69', 128)" class="id">list</span> <span onmouseout="hideTip(event, 'fs66', 129)" onmouseover="showTip(event, 'fs66', 129)" class="id">p2</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 130)" onmouseover="showTip(event, 'fs70', 130)" class="id">p4</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 131)" onmouseover="showTip(event, 'fs59', 131)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs71', 132)" onmouseover="showTip(event, 'fs71', 132)" class="id">array2D</span> <span onmouseout="hideTip(event, 'fs64', 133)" onmouseover="showTip(event, 'fs64', 133)" class="id">p1</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 134)" onmouseover="showTip(event, 'fs72', 134)" class="id">p5</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 135)" onmouseover="showTip(event, 'fs59', 135)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs73', 136)" onmouseover="showTip(event, 'fs73', 136)" class="id">auto</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs58', 137)" onmouseover="showTip(event, 'fs58', 137)" class="vt">int</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs61', 138)" onmouseover="showTip(event, 'fs61', 138)" class="rt">string</span> <span onmouseout="hideTip(event, 'fs36', 139)" onmouseover="showTip(event, 'fs36', 139)" class="rt">option</span> <span onmouseout="hideTip(event, 'fs27', 140)" onmouseover="showTip(event, 'fs27', 140)" class="rt">list</span><span class="pn">&gt;</span>

<span class="c">// pickler-based serialization</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs74', 141)" onmouseover="showTip(event, 'fs74', 141)" class="id">t1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 142)" onmouseover="showTip(event, 'fs75', 142)" class="m">Binary</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs76', 143)" onmouseover="showTip(event, 'fs76', 143)" class="id">pickle</span> <span onmouseout="hideTip(event, 'fs58', 144)" onmouseover="showTip(event, 'fs58', 144)" class="id">int</span> <span class="n">42</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 145)" onmouseover="showTip(event, 'fs77', 145)" class="id">t2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs78', 146)" onmouseover="showTip(event, 'fs78', 146)" class="m">Json</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 147)" onmouseover="showTip(event, 'fs79', 147)" class="id">pickle</span> <span onmouseout="hideTip(event, 'fs68', 148)" onmouseover="showTip(event, 'fs68', 148)" class="id">p3</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs34', 149)" onmouseover="showTip(event, 'fs34', 149)" class="uc">Some</span> <span class="s">&quot;&quot;</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs35', 150)" onmouseover="showTip(event, 'fs35', 150)" class="uc">None</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs34', 151)" onmouseover="showTip(event, 'fs34', 151)" class="uc">Some</span> <span class="s">&quot;message&quot;</span> <span class="pn">]</span>

<span onmouseout="hideTip(event, 'fs78', 152)" onmouseover="showTip(event, 'fs78', 152)" class="m">Json</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs80', 153)" onmouseover="showTip(event, 'fs80', 153)" class="id">unpickle</span> <span onmouseout="hideTip(event, 'fs68', 154)" onmouseover="showTip(event, 'fs68', 154)" class="id">p3</span> <span onmouseout="hideTip(event, 'fs77', 155)" onmouseover="showTip(event, 'fs77', 155)" class="id">t2</span>
</code></pre></td>
</tr>
</table>
<p>The module includes all primitive combinators as described in Andrew Kennedy's
<a href="http://research.microsoft.com/en-us/um/people/akenn/fun/picklercombinators.pdf">Pickler Combinators</a>
like<code>wrap</code> and <code>alt</code>. Fixpoint combinators for declaring recursive picklers are also available:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs81', 156)" onmouseover="showTip(event, 'fs81', 156)" class="rt">Peano</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs82', 157)" onmouseover="showTip(event, 'fs82', 157)" class="uc">Zero</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs83', 158)" onmouseover="showTip(event, 'fs83', 158)" class="uc">Succ</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs81', 159)" onmouseover="showTip(event, 'fs81', 159)" class="rt">Peano</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 160)" onmouseover="showTip(event, 'fs84', 160)" class="id">pp</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs59', 161)" onmouseover="showTip(event, 'fs59', 161)" class="rt">Pickler</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs81', 162)" onmouseover="showTip(event, 'fs81', 162)" class="rt">Peano</span><span class="pn">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs59', 163)" onmouseover="showTip(event, 'fs59', 163)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs85', 164)" onmouseover="showTip(event, 'fs85', 164)" class="id">fix</span><span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs86', 165)" onmouseover="showTip(event, 'fs86', 165)" class="id">peano</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs86', 166)" onmouseover="showTip(event, 'fs86', 166)" class="id">peano</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 167)" onmouseover="showTip(event, 'fs59', 167)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 168)" onmouseover="showTip(event, 'fs67', 168)" class="id">option</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 169)" onmouseover="showTip(event, 'fs59', 169)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 170)" onmouseover="showTip(event, 'fs87', 170)" class="id">wrap</span> <span class="pn">(</span><span class="k">function</span> <span onmouseout="hideTip(event, 'fs35', 171)" onmouseover="showTip(event, 'fs35', 171)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs82', 172)" onmouseover="showTip(event, 'fs82', 172)" class="uc">Zero</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs34', 173)" onmouseover="showTip(event, 'fs34', 173)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs88', 174)" onmouseover="showTip(event, 'fs88', 174)" class="id">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs83', 175)" onmouseover="showTip(event, 'fs83', 175)" class="uc">Succ</span> <span onmouseout="hideTip(event, 'fs88', 176)" onmouseover="showTip(event, 'fs88', 176)" class="id">p</span><span class="pn">)</span>
                        <span class="pn">(</span><span class="k">function</span> <span onmouseout="hideTip(event, 'fs82', 177)" onmouseover="showTip(event, 'fs82', 177)" class="uc">Zero</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs35', 178)" onmouseover="showTip(event, 'fs35', 178)" class="uc">None</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs83', 179)" onmouseover="showTip(event, 'fs83', 179)" class="uc">Succ</span> <span onmouseout="hideTip(event, 'fs88', 180)" onmouseover="showTip(event, 'fs88', 180)" class="id">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs34', 181)" onmouseover="showTip(event, 'fs34', 181)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs88', 182)" onmouseover="showTip(event, 'fs88', 182)" class="id">p</span><span class="pn">)</span><span class="pn">)</span>
                        
<span onmouseout="hideTip(event, 'fs83', 183)" onmouseover="showTip(event, 'fs83', 183)" class="uc">Succ</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs83', 184)" onmouseover="showTip(event, 'fs83', 184)" class="uc">Succ</span> <span onmouseout="hideTip(event, 'fs82', 185)" onmouseover="showTip(event, 'fs82', 185)" class="uc">Zero</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs75', 186)" onmouseover="showTip(event, 'fs75', 186)" class="m">Binary</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs76', 187)" onmouseover="showTip(event, 'fs76', 187)" class="id">pickle</span> <span onmouseout="hideTip(event, 'fs84', 188)" onmouseover="showTip(event, 'fs84', 188)" class="id">pp</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs75', 189)" onmouseover="showTip(event, 'fs75', 189)" class="m">Binary</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs89', 190)" onmouseover="showTip(event, 'fs89', 190)" class="id">unpickle</span> <span onmouseout="hideTip(event, 'fs84', 191)" onmouseover="showTip(event, 'fs84', 191)" class="id">pp</span>
</code></pre></td>
</tr>
</table>
<p>When it comes to generic types, picklers can be created through user-defined combinators:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs90', 192)" onmouseover="showTip(event, 'fs90', 192)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs91', 193)" onmouseover="showTip(event, 'fs91', 193)" class="uc">Leaf</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs92', 194)" onmouseover="showTip(event, 'fs92', 194)" class="uc">Node</span> <span class="k">of</span> <span class="ta">&#39;</span><span class="id">T</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs90', 195)" onmouseover="showTip(event, 'fs90', 195)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs27', 196)" onmouseover="showTip(event, 'fs27', 196)" class="rt">list</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs93', 197)" onmouseover="showTip(event, 'fs93', 197)" class="fn">mkTree</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs94', 198)" onmouseover="showTip(event, 'fs94', 198)" class="id">ep</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs59', 199)" onmouseover="showTip(event, 'fs59', 199)" class="rt">Pickler</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs59', 200)" onmouseover="showTip(event, 'fs59', 200)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs85', 201)" onmouseover="showTip(event, 'fs85', 201)" class="id">fix</span><span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs95', 202)" onmouseover="showTip(event, 'fs95', 202)" class="id">tree</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs95', 203)" onmouseover="showTip(event, 'fs95', 203)" class="id">tree</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 204)" onmouseover="showTip(event, 'fs59', 204)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 205)" onmouseover="showTip(event, 'fs69', 205)" class="id">list</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 206)" onmouseover="showTip(event, 'fs59', 206)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs65', 207)" onmouseover="showTip(event, 'fs65', 207)" class="id">pair</span> <span onmouseout="hideTip(event, 'fs94', 208)" onmouseover="showTip(event, 'fs94', 208)" class="id">ep</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 209)" onmouseover="showTip(event, 'fs59', 209)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 210)" onmouseover="showTip(event, 'fs67', 210)" class="id">option</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 211)" onmouseover="showTip(event, 'fs59', 211)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 212)" onmouseover="showTip(event, 'fs87', 212)" class="id">wrap</span> <span class="pn">(</span><span class="k">function</span> <span onmouseout="hideTip(event, 'fs35', 213)" onmouseover="showTip(event, 'fs35', 213)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs91', 214)" onmouseover="showTip(event, 'fs91', 214)" class="uc">Leaf</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs34', 215)" onmouseover="showTip(event, 'fs34', 215)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 216)" onmouseover="showTip(event, 'fs96', 216)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 217)" onmouseover="showTip(event, 'fs97', 217)" class="id">c</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs92', 218)" onmouseover="showTip(event, 'fs92', 218)" class="uc">Node</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 219)" onmouseover="showTip(event, 'fs96', 219)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 220)" onmouseover="showTip(event, 'fs97', 220)" class="id">c</span><span class="pn">)</span><span class="pn">)</span>
                        <span class="pn">(</span><span class="k">function</span> <span onmouseout="hideTip(event, 'fs91', 221)" onmouseover="showTip(event, 'fs91', 221)" class="uc">Leaf</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs35', 222)" onmouseover="showTip(event, 'fs35', 222)" class="uc">None</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs92', 223)" onmouseover="showTip(event, 'fs92', 223)" class="uc">Node</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 224)" onmouseover="showTip(event, 'fs96', 224)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 225)" onmouseover="showTip(event, 'fs97', 225)" class="id">c</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs34', 226)" onmouseover="showTip(event, 'fs34', 226)" class="uc">Some</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 227)" onmouseover="showTip(event, 'fs96', 227)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 228)" onmouseover="showTip(event, 'fs97', 228)" class="id">c</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
                        
<span onmouseout="hideTip(event, 'fs92', 229)" onmouseover="showTip(event, 'fs92', 229)" class="uc">Node</span><span class="pn">(</span><span class="n">2</span><span class="pn">,</span><span class="pn">[</span><span class="pn">]</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs98', 230)" onmouseover="showTip(event, 'fs98', 230)" class="m">Xml</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 231)" onmouseover="showTip(event, 'fs79', 231)" class="id">pickle</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs93', 232)" onmouseover="showTip(event, 'fs93', 232)" class="fn">mkTree</span> <span onmouseout="hideTip(event, 'fs59', 233)" onmouseover="showTip(event, 'fs59', 233)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 234)" onmouseover="showTip(event, 'fs60', 234)" class="id">int</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>or it could be done using automatic resolution of type parameters:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs99', 235)" onmouseover="showTip(event, 'fs99', 235)" class="id">tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs59', 236)" onmouseover="showTip(event, 'fs59', 236)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs85', 237)" onmouseover="showTip(event, 'fs85', 237)" class="id">fix</span><span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs95', 238)" onmouseover="showTip(event, 'fs95', 238)" class="id">tree</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs95', 239)" onmouseover="showTip(event, 'fs95', 239)" class="id">tree</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 240)" onmouseover="showTip(event, 'fs59', 240)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 241)" onmouseover="showTip(event, 'fs69', 241)" class="id">list</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 242)" onmouseover="showTip(event, 'fs59', 242)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs65', 243)" onmouseover="showTip(event, 'fs65', 243)" class="id">pair</span> <span onmouseout="hideTip(event, 'fs59', 244)" onmouseover="showTip(event, 'fs59', 244)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs73', 245)" onmouseover="showTip(event, 'fs73', 245)" class="id">auto</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 246)" onmouseover="showTip(event, 'fs59', 246)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 247)" onmouseover="showTip(event, 'fs67', 247)" class="id">option</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 248)" onmouseover="showTip(event, 'fs59', 248)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 249)" onmouseover="showTip(event, 'fs87', 249)" class="id">wrap</span> <span class="pn">(</span><span class="k">function</span> <span onmouseout="hideTip(event, 'fs35', 250)" onmouseover="showTip(event, 'fs35', 250)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs91', 251)" onmouseover="showTip(event, 'fs91', 251)" class="uc">Leaf</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs34', 252)" onmouseover="showTip(event, 'fs34', 252)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 253)" onmouseover="showTip(event, 'fs96', 253)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 254)" onmouseover="showTip(event, 'fs97', 254)" class="id">c</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs92', 255)" onmouseover="showTip(event, 'fs92', 255)" class="uc">Node</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 256)" onmouseover="showTip(event, 'fs96', 256)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 257)" onmouseover="showTip(event, 'fs97', 257)" class="id">c</span><span class="pn">)</span><span class="pn">)</span>
                        <span class="pn">(</span><span class="k">function</span> <span onmouseout="hideTip(event, 'fs91', 258)" onmouseover="showTip(event, 'fs91', 258)" class="uc">Leaf</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs35', 259)" onmouseover="showTip(event, 'fs35', 259)" class="uc">None</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs92', 260)" onmouseover="showTip(event, 'fs92', 260)" class="uc">Node</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 261)" onmouseover="showTip(event, 'fs96', 261)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 262)" onmouseover="showTip(event, 'fs97', 262)" class="id">c</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs34', 263)" onmouseover="showTip(event, 'fs34', 263)" class="uc">Some</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 264)" onmouseover="showTip(event, 'fs96', 264)" class="id">t</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs97', 265)" onmouseover="showTip(event, 'fs97', 265)" class="id">c</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>


<span onmouseout="hideTip(event, 'fs92', 266)" onmouseover="showTip(event, 'fs92', 266)" class="uc">Node</span><span class="pn">(</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">,</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs91', 267)" onmouseover="showTip(event, 'fs91', 267)" class="uc">Leaf</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs91', 268)" onmouseover="showTip(event, 'fs91', 268)" class="uc">Leaf</span><span class="pn">]</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 269)" onmouseover="showTip(event, 'fs78', 269)" class="m">Json</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 270)" onmouseover="showTip(event, 'fs79', 270)" class="id">pickle</span> <span onmouseout="hideTip(event, 'fs99', 271)" onmouseover="showTip(event, 'fs99', 271)" class="id">tree</span>
</code></pre></td>
</tr>
</table>
<h3><a name="SerializationInfo-Picklers" class="anchor" href="#SerializationInfo-Picklers">SerializationInfo Picklers</a></h3>
<p>It is possible to define picklers that serialise objects using <a href="https://msdn.microsoft.com/en-us/library/system.runtime.serialization.serializationinfo%28v=vs.110%29.aspx">SerializationInfo</a>.
For example, consider the record:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs100', 272)" onmouseover="showTip(event, 'fs100', 272)" class="rt">Name</span> <span class="o">=</span> <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs101', 273)" onmouseover="showTip(event, 'fs101', 273)" class="id">FirstName</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs61', 274)" onmouseover="showTip(event, 'fs61', 274)" class="rt">string</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs102', 275)" onmouseover="showTip(event, 'fs102', 275)" class="id">MiddleName</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs61', 276)" onmouseover="showTip(event, 'fs61', 276)" class="rt">string</span> <span onmouseout="hideTip(event, 'fs36', 277)" onmouseover="showTip(event, 'fs36', 277)" class="rt">option</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs103', 278)" onmouseover="showTip(event, 'fs103', 278)" class="id">Surname</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs61', 279)" onmouseover="showTip(event, 'fs61', 279)" class="rt">string</span> <span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<p>We can define a SerializationInfo based pickler using the following combinator:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs104', 280)" onmouseover="showTip(event, 'fs104', 280)" class="id">nameP</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs59', 281)" onmouseover="showTip(event, 'fs59', 281)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 282)" onmouseover="showTip(event, 'fs105', 282)" class="id">fromSerializationInfo</span>
                <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs106', 283)" onmouseover="showTip(event, 'fs106', 283)" class="id">si</span> <span class="k">-&gt;</span> 
                    <span class="pn">{</span> <span class="id">FirstName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs106', 284)" onmouseover="showTip(event, 'fs106', 284)" class="fn">si</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 285)" onmouseover="showTip(event, 'fs107', 285)" class="id">Get</span> <span class="s">&quot;First Name&quot;</span>
                      <span class="id">MiddleName</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs106', 286)" onmouseover="showTip(event, 'fs106', 286)" class="fn">si</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 287)" onmouseover="showTip(event, 'fs108', 287)" class="id">TryGet</span> <span class="s">&quot;Middle Name&quot;</span>
                      <span class="id">Surname</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs106', 288)" onmouseover="showTip(event, 'fs106', 288)" class="fn">si</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 289)" onmouseover="showTip(event, 'fs107', 289)" class="id">Get</span> <span class="s">&quot;Last Name&quot;</span> <span class="pn">}</span><span class="pn">)</span>
                <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs106', 290)" onmouseover="showTip(event, 'fs106', 290)" class="id">si</span> <span onmouseout="hideTip(event, 'fs109', 291)" onmouseover="showTip(event, 'fs109', 291)" class="id">p</span> <span class="k">-&gt;</span> 
                    <span onmouseout="hideTip(event, 'fs106', 292)" onmouseover="showTip(event, 'fs106', 292)" class="fn">si</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 293)" onmouseover="showTip(event, 'fs110', 293)" class="id">Add</span><span class="pn">(</span><span class="s">&quot;First Name&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs109', 294)" onmouseover="showTip(event, 'fs109', 294)" class="id">p</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 295)" onmouseover="showTip(event, 'fs101', 295)" class="id">FirstName</span><span class="pn">)</span>
                    <span onmouseout="hideTip(event, 'fs106', 296)" onmouseover="showTip(event, 'fs106', 296)" class="fn">si</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 297)" onmouseover="showTip(event, 'fs110', 297)" class="id">Add</span><span class="pn">(</span><span class="s">&quot;Last Name&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs109', 298)" onmouseover="showTip(event, 'fs109', 298)" class="id">p</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs103', 299)" onmouseover="showTip(event, 'fs103', 299)" class="id">Surname</span><span class="pn">)</span>
                    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs109', 300)" onmouseover="showTip(event, 'fs109', 300)" class="id">p</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs102', 301)" onmouseover="showTip(event, 'fs102', 301)" class="id">MiddleName</span> <span class="k">with</span> <span onmouseout="hideTip(event, 'fs34', 302)" onmouseover="showTip(event, 'fs34', 302)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs111', 303)" onmouseover="showTip(event, 'fs111', 303)" class="id">mn</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs106', 304)" onmouseover="showTip(event, 'fs106', 304)" class="fn">si</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 305)" onmouseover="showTip(event, 'fs110', 305)" class="id">Add</span><span class="pn">(</span><span class="s">&quot;Middle Name&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs111', 306)" onmouseover="showTip(event, 'fs111', 306)" class="id">mn</span><span class="pn">)</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs35', 307)" onmouseover="showTip(event, 'fs35', 307)" class="uc">None</span> <span class="k">-&gt;</span> <span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Experimental-N-way-Sum-and-Product-Combinators" class="anchor" href="#Experimental-N-way-Sum-and-Product-Combinators">Experimental N-way Sum and Product Combinators</a></h3>
<p>N-way sum and product combinators provide an alternative pretty syntax for
defining picklers over arbitrary discriminated unions and records.  Unfortunately
at the moment the performance of resulting picklers is sub-optimal, this might
improve in the future.</p>
<p>The types involved in the examples are not fit for human consumption, but thankfully
F# infers them automatically. The implementation is total and purely functional,
see this <a href="https://gist.github.com/t0yv0/6834822">gist</a> for some Coq code used to model these combinators.</p>
<h4><a name="Records-Product-Types" class="anchor" href="#Records-Product-Types">Records / Product Types</a></h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs112', 308)" onmouseover="showTip(event, 'fs112', 308)" class="rt">Person</span> <span class="o">=</span>
    <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs113', 309)" onmouseover="showTip(event, 'fs113', 309)" class="id">Address</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs61', 310)" onmouseover="showTip(event, 'fs61', 310)" class="rt">string</span>
        <span onmouseout="hideTip(event, 'fs114', 311)" onmouseover="showTip(event, 'fs114', 311)" class="id">Age</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 312)" onmouseover="showTip(event, 'fs58', 312)" class="vt">int</span>
        <span onmouseout="hideTip(event, 'fs115', 313)" onmouseover="showTip(event, 'fs115', 313)" class="id">Name</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs61', 314)" onmouseover="showTip(event, 'fs61', 314)" class="rt">string</span>
    <span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs116', 315)" onmouseover="showTip(event, 'fs116', 315)" class="fn">makePerson</span> <span onmouseout="hideTip(event, 'fs117', 316)" onmouseover="showTip(event, 'fs117', 316)" class="id">name</span> <span onmouseout="hideTip(event, 'fs118', 317)" onmouseover="showTip(event, 'fs118', 317)" class="id">age</span> <span onmouseout="hideTip(event, 'fs119', 318)" onmouseover="showTip(event, 'fs119', 318)" class="id">address</span> <span class="o">=</span>
    <span class="pn">{</span>
        <span class="id">Address</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs119', 319)" onmouseover="showTip(event, 'fs119', 319)" class="id">address</span>
        <span class="id">Age</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs118', 320)" onmouseover="showTip(event, 'fs118', 320)" class="id">age</span>
        <span onmouseout="hideTip(event, 'fs100', 321)" onmouseover="showTip(event, 'fs100', 321)" class="id">Name</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs117', 322)" onmouseover="showTip(event, 'fs117', 322)" class="id">name</span>
    <span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs120', 323)" onmouseover="showTip(event, 'fs120', 323)" class="id">personPickler</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs59', 324)" onmouseover="showTip(event, 'fs59', 324)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 325)" onmouseover="showTip(event, 'fs121', 325)" class="id">product</span> <span onmouseout="hideTip(event, 'fs116', 326)" onmouseover="showTip(event, 'fs116', 326)" class="fn">makePerson</span>
    <span class="id">^+</span> <span onmouseout="hideTip(event, 'fs59', 327)" onmouseover="showTip(event, 'fs59', 327)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs122', 328)" onmouseover="showTip(event, 'fs122', 328)" class="id">field</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs123', 329)" onmouseover="showTip(event, 'fs123', 329)" class="id">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs123', 330)" onmouseover="showTip(event, 'fs123', 330)" class="id">p</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs124', 331)" onmouseover="showTip(event, 'fs124', 331)" class="id">Name</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs59', 332)" onmouseover="showTip(event, 'fs59', 332)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 333)" onmouseover="showTip(event, 'fs62', 333)" class="id">string</span>
    <span class="id">^+</span> <span onmouseout="hideTip(event, 'fs59', 334)" onmouseover="showTip(event, 'fs59', 334)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs122', 335)" onmouseover="showTip(event, 'fs122', 335)" class="id">field</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs123', 336)" onmouseover="showTip(event, 'fs123', 336)" class="id">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs123', 337)" onmouseover="showTip(event, 'fs123', 337)" class="id">p</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs114', 338)" onmouseover="showTip(event, 'fs114', 338)" class="id">Age</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs59', 339)" onmouseover="showTip(event, 'fs59', 339)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 340)" onmouseover="showTip(event, 'fs60', 340)" class="id">int</span>
    <span class="id">^.</span> <span onmouseout="hideTip(event, 'fs59', 341)" onmouseover="showTip(event, 'fs59', 341)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs122', 342)" onmouseover="showTip(event, 'fs122', 342)" class="id">field</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs123', 343)" onmouseover="showTip(event, 'fs123', 343)" class="id">p</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs123', 344)" onmouseover="showTip(event, 'fs123', 344)" class="id">p</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs113', 345)" onmouseover="showTip(event, 'fs113', 345)" class="id">Address</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs59', 346)" onmouseover="showTip(event, 'fs59', 346)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 347)" onmouseover="showTip(event, 'fs62', 347)" class="id">string</span>
</code></pre></td>
</tr>
</table>
<h4><a name="Unions-Sum-Types" class="anchor" href="#Unions-Sum-Types">Unions / Sum Types</a></h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs125', 348)" onmouseover="showTip(event, 'fs125', 348)" class="rt">U</span> <span class="o">=</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs126', 349)" onmouseover="showTip(event, 'fs126', 349)" class="uc">Case1</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs127', 350)" onmouseover="showTip(event, 'fs127', 350)" class="uc">Case2</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs58', 351)" onmouseover="showTip(event, 'fs58', 351)" class="vt">int</span>
<span class="pn">|</span> <span onmouseout="hideTip(event, 'fs128', 352)" onmouseover="showTip(event, 'fs128', 352)" class="uc">Case3</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs61', 353)" onmouseover="showTip(event, 'fs61', 353)" class="rt">string</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs58', 354)" onmouseover="showTip(event, 'fs58', 354)" class="vt">int</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs129', 355)" onmouseover="showTip(event, 'fs129', 355)" class="id">uPickler</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs59', 356)" onmouseover="showTip(event, 'fs59', 356)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 357)" onmouseover="showTip(event, 'fs130', 357)" class="id">sum</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs131', 358)" onmouseover="showTip(event, 'fs131', 358)" class="id">x</span> <span onmouseout="hideTip(event, 'fs132', 359)" onmouseover="showTip(event, 'fs132', 359)" class="fn">k1</span> <span onmouseout="hideTip(event, 'fs133', 360)" onmouseover="showTip(event, 'fs133', 360)" class="fn">k2</span> <span onmouseout="hideTip(event, 'fs134', 361)" onmouseover="showTip(event, 'fs134', 361)" class="fn">k3</span> <span class="k">-&gt;</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs131', 362)" onmouseover="showTip(event, 'fs131', 362)" class="id">x</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs126', 363)" onmouseover="showTip(event, 'fs126', 363)" class="uc">Case1</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs132', 364)" onmouseover="showTip(event, 'fs132', 364)" class="fn">k1</span> <span class="pn">(</span><span class="pn">)</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs127', 365)" onmouseover="showTip(event, 'fs127', 365)" class="uc">Case2</span> <span onmouseout="hideTip(event, 'fs39', 366)" onmouseover="showTip(event, 'fs39', 366)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs133', 367)" onmouseover="showTip(event, 'fs133', 367)" class="fn">k2</span> <span onmouseout="hideTip(event, 'fs39', 368)" onmouseover="showTip(event, 'fs39', 368)" class="id">x</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs128', 369)" onmouseover="showTip(event, 'fs128', 369)" class="uc">Case3</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs135', 370)" onmouseover="showTip(event, 'fs135', 370)" class="id">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs136', 371)" onmouseover="showTip(event, 'fs136', 371)" class="id">y</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs134', 372)" onmouseover="showTip(event, 'fs134', 372)" class="fn">k3</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs135', 373)" onmouseover="showTip(event, 'fs135', 373)" class="id">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs136', 374)" onmouseover="showTip(event, 'fs136', 374)" class="id">y</span><span class="pn">)</span><span class="pn">)</span>
    <span class="id">^+</span> <span onmouseout="hideTip(event, 'fs59', 375)" onmouseover="showTip(event, 'fs59', 375)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs137', 376)" onmouseover="showTip(event, 'fs137', 376)" class="id">variant</span> <span onmouseout="hideTip(event, 'fs126', 377)" onmouseover="showTip(event, 'fs126', 377)" class="uc">Case1</span>
    <span class="id">^+</span> <span onmouseout="hideTip(event, 'fs59', 378)" onmouseover="showTip(event, 'fs59', 378)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs138', 379)" onmouseover="showTip(event, 'fs138', 379)" class="id">case</span> <span onmouseout="hideTip(event, 'fs127', 380)" onmouseover="showTip(event, 'fs127', 380)" class="uc">Case2</span> <span onmouseout="hideTip(event, 'fs59', 381)" onmouseover="showTip(event, 'fs59', 381)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 382)" onmouseover="showTip(event, 'fs60', 382)" class="id">int</span>
    <span class="id">^.</span> <span onmouseout="hideTip(event, 'fs59', 383)" onmouseover="showTip(event, 'fs59', 383)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs138', 384)" onmouseover="showTip(event, 'fs138', 384)" class="id">case</span> <span onmouseout="hideTip(event, 'fs128', 385)" onmouseover="showTip(event, 'fs128', 385)" class="uc">Case3</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs59', 386)" onmouseover="showTip(event, 'fs59', 386)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs65', 387)" onmouseover="showTip(event, 'fs65', 387)" class="id">pair</span> <span onmouseout="hideTip(event, 'fs59', 388)" onmouseover="showTip(event, 'fs59', 388)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 389)" onmouseover="showTip(event, 'fs62', 389)" class="id">string</span> <span onmouseout="hideTip(event, 'fs59', 390)" onmouseover="showTip(event, 'fs59', 390)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 391)" onmouseover="showTip(event, 'fs60', 391)" class="id">int</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Generating-custom-picklers-in-type-definitions" class="anchor" href="#Generating-custom-picklers-in-type-definitions">Generating custom picklers in type definitions</a></h2>
<p>FsPickler can be instructed to use custom pickler definitions for given types
using the following design pattern:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs139', 392)" onmouseover="showTip(event, 'fs139', 392)" class="rt">CustomPickler</span><span class="pn">&gt;]</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs140', 393)" onmouseover="showTip(event, 'fs140', 393)" class="rt">CustomClass</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">,</span> <span class="ta">&#39;</span><span class="id">S</span><span class="pn">&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs141', 394)" onmouseover="showTip(event, 'fs141', 394)" class="id">x</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs142', 395)" onmouseover="showTip(event, 'fs142', 395)" class="id">y</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">S</span><span class="pn">)</span> <span class="o">=</span>

    <span class="k">member</span> <span class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 396)" onmouseover="showTip(event, 'fs143', 396)" class="prop">X</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs141', 397)" onmouseover="showTip(event, 'fs141', 397)" class="id">x</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs144', 398)" onmouseover="showTip(event, 'fs144', 398)" class="id">__</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs145', 399)" onmouseover="showTip(event, 'fs145', 399)" class="prop">Y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs142', 400)" onmouseover="showTip(event, 'fs142', 400)" class="id">y</span>

    <span class="k">static</span> <span class="k">member</span> <span class="fn">CreatePickler</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs146', 401)" onmouseover="showTip(event, 'fs146', 401)" class="id">resolver</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs147', 402)" onmouseover="showTip(event, 'fs147', 402)" class="if">IPicklerResolver</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs148', 403)" onmouseover="showTip(event, 'fs148', 403)" class="id">xp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 404)" onmouseover="showTip(event, 'fs146', 404)" class="fn">resolver</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs149', 405)" onmouseover="showTip(event, 'fs149', 405)" class="id">Resolve</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="pn">(</span><span class="pn">)</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs150', 406)" onmouseover="showTip(event, 'fs150', 406)" class="id">yp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 407)" onmouseover="showTip(event, 'fs146', 407)" class="fn">resolver</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs149', 408)" onmouseover="showTip(event, 'fs149', 408)" class="id">Resolve</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">S</span><span class="pn">&gt;</span> <span class="pn">(</span><span class="pn">)</span>

        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs151', 409)" onmouseover="showTip(event, 'fs151', 409)" class="fn">writer</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs152', 410)" onmouseover="showTip(event, 'fs152', 410)" class="id">ws</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs53', 411)" onmouseover="showTip(event, 'fs53', 411)" class="rt">WriteState</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs153', 412)" onmouseover="showTip(event, 'fs153', 412)" class="id">c</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs140', 413)" onmouseover="showTip(event, 'fs140', 413)" class="rt">CustomClass</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">,</span><span class="ta">&#39;</span><span class="id">S</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span>
            <span onmouseout="hideTip(event, 'fs148', 414)" onmouseover="showTip(event, 'fs148', 414)" class="fn">xp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 415)" onmouseover="showTip(event, 'fs154', 415)" class="id">Write</span> <span onmouseout="hideTip(event, 'fs152', 416)" onmouseover="showTip(event, 'fs152', 416)" class="id">ws</span> <span class="s">&quot;X&quot;</span> <span onmouseout="hideTip(event, 'fs153', 417)" onmouseover="showTip(event, 'fs153', 417)" class="id">c</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs155', 418)" onmouseover="showTip(event, 'fs155', 418)" class="id">X</span>
            <span onmouseout="hideTip(event, 'fs150', 419)" onmouseover="showTip(event, 'fs150', 419)" class="fn">yp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 420)" onmouseover="showTip(event, 'fs154', 420)" class="id">Write</span> <span onmouseout="hideTip(event, 'fs152', 421)" onmouseover="showTip(event, 'fs152', 421)" class="id">ws</span> <span class="s">&quot;Y&quot;</span> <span onmouseout="hideTip(event, 'fs153', 422)" onmouseover="showTip(event, 'fs153', 422)" class="id">c</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs156', 423)" onmouseover="showTip(event, 'fs156', 423)" class="id">Y</span>

        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs157', 424)" onmouseover="showTip(event, 'fs157', 424)" class="fn">reader</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs158', 425)" onmouseover="showTip(event, 'fs158', 425)" class="id">rs</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs56', 426)" onmouseover="showTip(event, 'fs56', 426)" class="rt">ReadState</span><span class="pn">)</span> <span class="o">=</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs141', 427)" onmouseover="showTip(event, 'fs141', 427)" class="id">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs148', 428)" onmouseover="showTip(event, 'fs148', 428)" class="fn">xp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs159', 429)" onmouseover="showTip(event, 'fs159', 429)" class="id">Read</span> <span onmouseout="hideTip(event, 'fs158', 430)" onmouseover="showTip(event, 'fs158', 430)" class="id">rs</span> <span class="s">&quot;X&quot;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs142', 431)" onmouseover="showTip(event, 'fs142', 431)" class="id">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs150', 432)" onmouseover="showTip(event, 'fs150', 432)" class="fn">yp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs159', 433)" onmouseover="showTip(event, 'fs159', 433)" class="id">Read</span> <span onmouseout="hideTip(event, 'fs158', 434)" onmouseover="showTip(event, 'fs158', 434)" class="id">rs</span> <span class="s">&quot;Y&quot;</span>
            <span class="k">new</span> <span onmouseout="hideTip(event, 'fs140', 435)" onmouseover="showTip(event, 'fs140', 435)" class="rt">CustomClass</span><span class="pn">&lt;</span><span class="id">_</span><span class="pn">,</span><span class="id">_</span><span class="pn">&gt;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs141', 436)" onmouseover="showTip(event, 'fs141', 436)" class="id">x</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs142', 437)" onmouseover="showTip(event, 'fs142', 437)" class="id">y</span><span class="pn">)</span>

        <span onmouseout="hideTip(event, 'fs59', 438)" onmouseover="showTip(event, 'fs59', 438)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs160', 439)" onmouseover="showTip(event, 'fs160', 439)" class="id">FromPrimitives</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs157', 440)" onmouseover="showTip(event, 'fs157', 440)" class="fn">reader</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs151', 441)" onmouseover="showTip(event, 'fs151', 441)" class="fn">writer</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>This tells FsPickler to generate a pickler for the given type using
that particular factory method. It should be noted that the <code>Read</code>/<code>Write</code>
operations are not commutative, hence care should be taken so that ordering is matched.
The <code>IPicklerResolver</code> argument provides a handle to the pickler generator and can be used recursively:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs139', 442)" onmouseover="showTip(event, 'fs139', 442)" class="rt">CustomPickler</span><span class="pn">&gt;]</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs161', 443)" onmouseover="showTip(event, 'fs161', 443)" class="rt">RecursiveClass</span><span class="pn">(</span><span class="o">?</span><span onmouseout="hideTip(event, 'fs162', 444)" onmouseover="showTip(event, 'fs162', 444)" class="id">nested</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs161', 445)" onmouseover="showTip(event, 'fs161', 445)" class="rt">RecursiveClass</span><span class="pn">)</span> <span class="o">=</span>

    <span class="k">member</span> <span class="id">__</span><span class="pn">.</span><span class="prop">Value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs162', 446)" onmouseover="showTip(event, 'fs162', 446)" class="id">nested</span>

    <span class="k">static</span> <span class="k">member</span> <span class="fn">CreatePickler</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs146', 447)" onmouseover="showTip(event, 'fs146', 447)" class="id">resolver</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs147', 448)" onmouseover="showTip(event, 'fs147', 448)" class="if">IPicklerResolver</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs163', 449)" onmouseover="showTip(event, 'fs163', 449)" class="id">self</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 450)" onmouseover="showTip(event, 'fs146', 450)" class="fn">resolver</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs149', 451)" onmouseover="showTip(event, 'fs149', 451)" class="id">Resolve</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs161', 452)" onmouseover="showTip(event, 'fs161', 452)" class="rt">RecursiveClass</span><span class="pn">&gt;</span> <span class="pn">(</span><span class="pn">)</span>
        <span onmouseout="hideTip(event, 'fs163', 453)" onmouseover="showTip(event, 'fs163', 453)" class="id">self</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 454)" onmouseover="showTip(event, 'fs59', 454)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 455)" onmouseover="showTip(event, 'fs67', 455)" class="id">option</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs59', 456)" onmouseover="showTip(event, 'fs59', 456)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 457)" onmouseover="showTip(event, 'fs87', 457)" class="id">wrap</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs164', 458)" onmouseover="showTip(event, 'fs164', 458)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs161', 459)" onmouseover="showTip(event, 'fs161', 459)" class="rt">RecursiveClass</span><span class="pn">(</span><span class="o">?</span><span class="id">nested</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs164', 460)" onmouseover="showTip(event, 'fs164', 460)" class="id">x</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs165', 461)" onmouseover="showTip(event, 'fs165', 461)" class="id">rc</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs165', 462)" onmouseover="showTip(event, 'fs165', 462)" class="id">rc</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs166', 463)" onmouseover="showTip(event, 'fs166', 463)" class="id">Value</span><span class="pn">)</span>

<span class="c">// a pickler will be generated based on the above definition</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs167', 464)" onmouseover="showTip(event, 'fs167', 464)" class="id">p</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 465)" onmouseover="showTip(event, 'fs16', 465)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs168', 466)" onmouseover="showTip(event, 'fs168', 466)" class="id">GeneratePickler</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs161', 467)" onmouseover="showTip(event, 'fs161', 467)" class="rt">RecursiveClass</span><span class="pn">&gt;</span> <span class="pn">(</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs161', 468)" onmouseover="showTip(event, 'fs161', 468)" class="rt">RecursiveClass</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs161', 469)" onmouseover="showTip(event, 'fs161', 469)" class="rt">RecursiveClass</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 470)" onmouseover="showTip(event, 'fs78', 470)" class="m">Json</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 471)" onmouseover="showTip(event, 'fs79', 471)" class="id">pickle</span> <span onmouseout="hideTip(event, 'fs167', 472)" onmouseover="showTip(event, 'fs167', 472)" class="id">p</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 473)" onmouseover="showTip(event, 'fs78', 473)" class="m">Json</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs80', 474)" onmouseover="showTip(event, 'fs80', 474)" class="id">unpickle</span> <span onmouseout="hideTip(event, 'fs167', 475)" onmouseover="showTip(event, 'fs167', 475)" class="id">p</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Custom-pickler-registrations" class="anchor" href="#Custom-pickler-registrations">Custom pickler registrations</a></h2>
<p>Consider a type declaration that has not been made serializable:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs169', 476)" onmouseover="showTip(event, 'fs169', 476)" class="rt">AutoSerializable</span><span class="pn">(</span><span class="k">false</span><span class="pn">)</span><span class="pn">&gt;]</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs170', 477)" onmouseover="showTip(event, 'fs170', 477)" class="rt">NonSerializable</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs171', 478)" onmouseover="showTip(event, 'fs171', 478)" class="id">value</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 479)" onmouseover="showTip(event, 'fs58', 479)" class="vt">int</span><span class="pn">)</span> <span class="o">=</span>
    <span class="k">member</span> <span class="id">__</span><span class="pn">.</span><span class="prop">Value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs171', 480)" onmouseover="showTip(event, 'fs171', 480)" class="id">value</span>
</code></pre></td>
</tr>
</table>
<p>Attempting to generate a pickler for the particular type</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs16', 481)" onmouseover="showTip(event, 'fs16', 481)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs168', 482)" onmouseover="showTip(event, 'fs168', 482)" class="id">GeneratePickler</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs170', 483)" onmouseover="showTip(event, 'fs170', 483)" class="rt">NonSerializable</span><span class="pn">&gt;</span><span class="pn">(</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>would result in an error:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="text">MBrace.FsPickler.NonSerializableTypeException: Type 'FSI_0012+NonSerializable' is not serializable.
    at MBrace.FsPickler.Utils.Exn`1.get_Value() in C:\Users\eirik.tsarpalis\devel\mbrace\FsPickler\src\FsPickler\Utils\Utils.fs:line 59
    at MBrace.FsPickler.PicklerCache.MBrace-FsPickler-IPicklerResolver-Resolve[T]() in C:\Users\eirik.tsarpalis\devel\mbrace\FsPickler\src\FsPickler\PicklerGeneration\PicklerCache.fs:line 75
    at &lt;StartupCode$FSI_0013&gt;.$FSI_0013.main@()
</code></pre></td></tr></table>
<p>This problem can be overcome by creating a custom pickler cache that accepts user-supplied pickler registrations.
Suppose we have a custom pickler definition:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs172', 484)" onmouseover="showTip(event, 'fs172', 484)" class="fn">mkPickler</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs146', 485)" onmouseover="showTip(event, 'fs146', 485)" class="id">resolver</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs147', 486)" onmouseover="showTip(event, 'fs147', 486)" class="if">IPicklerResolver</span><span class="pn">)</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs173', 487)" onmouseover="showTip(event, 'fs173', 487)" class="id">intPickler</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 488)" onmouseover="showTip(event, 'fs146', 488)" class="fn">resolver</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs149', 489)" onmouseover="showTip(event, 'fs149', 489)" class="id">Resolve</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs58', 490)" onmouseover="showTip(event, 'fs58', 490)" class="vt">int</span><span class="pn">&gt;</span> <span class="pn">(</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 491)" onmouseover="showTip(event, 'fs174', 491)" class="fn">writer</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs175', 492)" onmouseover="showTip(event, 'fs175', 492)" class="id">w</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs53', 493)" onmouseover="showTip(event, 'fs53', 493)" class="rt">WriteState</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs176', 494)" onmouseover="showTip(event, 'fs176', 494)" class="id">ns</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs170', 495)" onmouseover="showTip(event, 'fs170', 495)" class="rt">NonSerializable</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs173', 496)" onmouseover="showTip(event, 'fs173', 496)" class="fn">intPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 497)" onmouseover="showTip(event, 'fs154', 497)" class="id">Write</span> <span onmouseout="hideTip(event, 'fs175', 498)" onmouseover="showTip(event, 'fs175', 498)" class="id">w</span> <span class="s">&quot;value&quot;</span> <span onmouseout="hideTip(event, 'fs176', 499)" onmouseover="showTip(event, 'fs176', 499)" class="id">ns</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs177', 500)" onmouseover="showTip(event, 'fs177', 500)" class="id">Value</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs178', 501)" onmouseover="showTip(event, 'fs178', 501)" class="fn">reader</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs179', 502)" onmouseover="showTip(event, 'fs179', 502)" class="id">r</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs56', 503)" onmouseover="showTip(event, 'fs56', 503)" class="rt">ReadState</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs180', 504)" onmouseover="showTip(event, 'fs180', 504)" class="id">v</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs173', 505)" onmouseover="showTip(event, 'fs173', 505)" class="fn">intPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs159', 506)" onmouseover="showTip(event, 'fs159', 506)" class="id">Read</span> <span onmouseout="hideTip(event, 'fs179', 507)" onmouseover="showTip(event, 'fs179', 507)" class="id">r</span> <span class="s">&quot;value&quot;</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs170', 508)" onmouseover="showTip(event, 'fs170', 508)" class="rt">NonSerializable</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs180', 509)" onmouseover="showTip(event, 'fs180', 509)" class="id">v</span><span class="pn">)</span>

    <span onmouseout="hideTip(event, 'fs59', 510)" onmouseover="showTip(event, 'fs59', 510)" class="m">Pickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs160', 511)" onmouseover="showTip(event, 'fs160', 511)" class="id">FromPrimitives</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs178', 512)" onmouseover="showTip(event, 'fs178', 512)" class="fn">reader</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs174', 513)" onmouseover="showTip(event, 'fs174', 513)" class="fn">writer</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>We can then create a custom pickler cache like so:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// 1. Create a pickler registry and make custom pickler registrations</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs181', 514)" onmouseover="showTip(event, 'fs181', 514)" class="id">registry</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs182', 515)" onmouseover="showTip(event, 'fs182', 515)" class="rt">CustomPicklerRegistry</span><span class="pn">(</span><span class="pn">)</span>
<span class="k">do</span> <span onmouseout="hideTip(event, 'fs181', 516)" onmouseover="showTip(event, 'fs181', 516)" class="fn">registry</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs183', 517)" onmouseover="showTip(event, 'fs183', 517)" class="id">RegisterFactory</span> <span onmouseout="hideTip(event, 'fs172', 518)" onmouseover="showTip(event, 'fs172', 518)" class="fn">mkPickler</span>

<span class="c">// 2. Construct a new pickler cache</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs184', 519)" onmouseover="showTip(event, 'fs184', 519)" class="id">cache</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs185', 520)" onmouseover="showTip(event, 'fs185', 520)" class="rt">PicklerCache</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs186', 521)" onmouseover="showTip(event, 'fs186', 521)" class="id">FromCustomPicklerRegistry</span> <span onmouseout="hideTip(event, 'fs181', 522)" onmouseover="showTip(event, 'fs181', 522)" class="id">registry</span>

<span class="c">// 3. Pass the new cache to a serializer instance</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs187', 523)" onmouseover="showTip(event, 'fs187', 523)" class="id">jsonSer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 524)" onmouseover="showTip(event, 'fs16', 524)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 525)" onmouseover="showTip(event, 'fs23', 525)" class="id">CreateJsonSerializer</span><span class="pn">(</span><span class="id">picklerResolver</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs184', 526)" onmouseover="showTip(event, 'fs184', 526)" class="id">cache</span><span class="pn">)</span>

<span class="c">// 4. Serialize the custom type</span>
<span onmouseout="hideTip(event, 'fs187', 527)" onmouseover="showTip(event, 'fs187', 527)" class="fn">jsonSer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 528)" onmouseover="showTip(event, 'fs38', 528)" class="id">PickleToString</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs170', 529)" onmouseover="showTip(event, 'fs170', 529)" class="rt">NonSerializable</span> <span class="n">42</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>In some cases, it might be sufficient to declare that FsPickler should treat
the type as if it wasn't lacking a <code>[&lt;Serializable&gt;]</code> annotation:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs181', 530)" onmouseover="showTip(event, 'fs181', 530)" class="fn">registry</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs188', 531)" onmouseover="showTip(event, 'fs188', 531)" class="id">DeclareSerializable</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs170', 532)" onmouseover="showTip(event, 'fs170', 532)" class="rt">NonSerializable</span><span class="pn">&gt;</span><span class="pn">(</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Additional-tools" class="anchor" href="#Additional-tools">Additional tools</a></h2>
<p>This section describes some of the additional tools offered by the library:</p>
<h3><a name="Object-Cloning" class="anchor" href="#Object-Cloning">Object Cloning</a></h3>
<p>FsPickler 1.2 adds support for fast cloning of serializable objects.
This is done in a node-per-node basis, without the need for serialization formats and intermediate buffers.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs189', 533)" onmouseover="showTip(event, 'fs189', 533)" class="id">clonedValue</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 534)" onmouseover="showTip(event, 'fs16', 534)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs190', 535)" onmouseover="showTip(event, 'fs190', 535)" class="id">Clone</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs191', 536)" onmouseover="showTip(event, 'fs191', 536)" class="uc">Choice1Of2</span> <span class="s">&quot;foo&quot;</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs192', 537)" onmouseover="showTip(event, 'fs192', 537)" class="uc">Choice2Of2</span> <span class="pn">[</span><span class="s">&#39;b&#39;</span><span class="pn">;</span><span class="s">&#39;a&#39;</span><span class="pn">;</span><span class="s">&#39;r&#39;</span><span class="pn">]</span><span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Structural-Hashcodes" class="anchor" href="#Structural-Hashcodes">Structural Hashcodes</a></h3>
<p>FsPickler offers experimental support for structural, non-cryptographic, hashcode generation:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs193', 538)" onmouseover="showTip(event, 'fs193', 538)" class="id">hash</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 539)" onmouseover="showTip(event, 'fs16', 539)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs194', 540)" onmouseover="showTip(event, 'fs194', 540)" class="id">ComputeHash</span> <span class="pn">[</span><span class="n">1</span> <span class="o">..</span> <span class="n">100000</span><span class="pn">]</span>

<span class="c">//val it : HashResult =</span>
<span class="c">//  {Algorithm = &quot;MurMur3&quot;;</span>
<span class="c">//   Length = 400008L;</span>
<span class="c">//   Hash =</span>
<span class="c">//    [|52uy; 70uy; 141uy; 214uy; 3uy; 231uy; 11uy; 100uy; 94uy; 250uy; 231uy;</span>
<span class="c">//      97uy; 188uy; 215uy; 70uy; 0uy|];}</span>
</code></pre></td>
</tr>
</table>
<p>This will generate a 128-bit structural hashcode based on the <a href="http://en.wikipedia.org/wiki/MurmurHash">MurMurHash</a> algorithm.
Implementation is memory efficient, since the hashing algorithm is integrated with
the underlying stream implementation. It is possible for users to define their own hashing
algorithms by inheriting the special <code>HashStream</code> class.</p>
<p>Hashing functionality offered by FsPickler is an ideal replacement to <code>.GetHashCode()</code> for
large objects or complex object graphs, but it is not recommended for small values or primitives.</p>
<p>If a hashcode is not required, the size of an object alone can be computed as follows:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs16', 541)" onmouseover="showTip(event, 'fs16', 541)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs195', 542)" onmouseover="showTip(event, 'fs195', 542)" class="id">ComputeSize</span> <span class="pn">[</span><span class="n">1</span> <span class="o">..</span> <span class="n">1000000</span><span class="pn">]</span>

<span class="c">//val it : int64 = 4000008L</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Typed-Serialization" class="anchor" href="#Typed-Serialization">Typed Serialization</a></h3>
<p>It is possible to create typed picklings of objects:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs196', 543)" onmouseover="showTip(event, 'fs196', 543)" class="id">typedPickle</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 544)" onmouseover="showTip(event, 'fs21', 544)" class="fn">jsonSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs197', 545)" onmouseover="showTip(event, 'fs197', 545)" class="id">PickleTyped</span> <span class="pn">[</span><span class="n">1</span> <span class="o">..</span> <span class="n">1000</span><span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<p>this will produce a serialization annotated with the type of the original object.
They can then be easily deserialized like so:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs198', 546)" onmouseover="showTip(event, 'fs198', 546)" class="id">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 547)" onmouseover="showTip(event, 'fs21', 547)" class="fn">jsonSerializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs199', 548)" onmouseover="showTip(event, 'fs199', 548)" class="id">UnPickleTyped</span> <span onmouseout="hideTip(event, 'fs196', 549)" onmouseover="showTip(event, 'fs196', 549)" class="id">typedPickle</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Object-Sifting" class="anchor" href="#Object-Sifting">Object Sifting</a></h3>
<p>FsPickler 1.2 comes with a 'sifting' functionality which allows serialization/cloning while omitting specified
instances from an object graph. For example, consider the object graph</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs200', 550)" onmouseover="showTip(event, 'fs200', 550)" class="id">small</span> <span class="o">=</span> <span class="pn">[|</span><span class="n">1..</span><span class="n">10</span><span class="pn">|]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs201', 551)" onmouseover="showTip(event, 'fs201', 551)" class="id">large</span> <span class="o">=</span> <span class="pn">[|</span><span class="n">1..</span><span class="n">100000000</span><span class="pn">|]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs202', 552)" onmouseover="showTip(event, 'fs202', 552)" class="id">graph</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs34', 553)" onmouseover="showTip(event, 'fs34', 553)" class="uc">Some</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs200', 554)" onmouseover="showTip(event, 'fs200', 554)" class="id">small</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs201', 555)" onmouseover="showTip(event, 'fs201', 555)" class="id">large</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs200', 556)" onmouseover="showTip(event, 'fs200', 556)" class="id">small</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs201', 557)" onmouseover="showTip(event, 'fs201', 557)" class="id">large</span><span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<p>The size of the object becomes evident when running</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs16', 558)" onmouseover="showTip(event, 'fs16', 558)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs195', 559)" onmouseover="showTip(event, 'fs195', 559)" class="id">ComputeSize</span> <span onmouseout="hideTip(event, 'fs202', 560)" onmouseover="showTip(event, 'fs202', 560)" class="id">graph</span>

<span class="c">//val it : int64 = 400000203L</span>
</code></pre></td>
</tr>
</table>
<p>Supposing we knew that the size of the graph was being bloated by large arrays,
we can use FsPickler to optimize serialization by sifting away occurences from the object graph.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs203', 561)" onmouseover="showTip(event, 'fs203', 561)" class="fn">sifter</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs204', 562)" onmouseover="showTip(event, 'fs204', 562)" class="rt">obj</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs205', 563)" onmouseover="showTip(event, 'fs205', 563)" class="vt">bool</span> <span class="o">=</span> <span class="k">function</span> <span class="o">:?</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs58', 564)" onmouseover="showTip(event, 'fs58', 564)" class="vt">int</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">)</span> <span class="k">as</span> <span onmouseout="hideTip(event, 'fs206', 565)" onmouseover="showTip(event, 'fs206', 565)" class="id">ts</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs206', 566)" onmouseover="showTip(event, 'fs206', 566)" class="id">ts</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs207', 567)" onmouseover="showTip(event, 'fs207', 567)" class="id">Length</span> <span class="o">&gt;</span> <span class="n">100</span> <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span class="k">false</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs208', 568)" onmouseover="showTip(event, 'fs208', 568)" class="id">siftedGraph</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs209', 569)" onmouseover="showTip(event, 'fs209', 569)" class="id">siftedValues</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 570)" onmouseover="showTip(event, 'fs16', 570)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs210', 571)" onmouseover="showTip(event, 'fs210', 571)" class="id">Sift</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs202', 572)" onmouseover="showTip(event, 'fs202', 572)" class="id">graph</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs203', 573)" onmouseover="showTip(event, 'fs203', 573)" class="fn">sifter</span><span class="pn">)</span>

<span class="c">//val siftedValues : (int64 * obj) [] =</span>
<span class="c">//  [|(4L,</span>
<span class="c">//     [|1; 2; 3; 4; 5; 6; 7; 8; 9; 10; 11; 12; 13; 14; 15; 16; 17; 18; 19; 20;</span>
<span class="c">//       21; 22; 23; 24; 25; 26; 27; 28; 29; 30; 31; 32; 33; 34; 35; 36; 37; 38;</span>
<span class="c">//       39; 40; 41; 42; 43; 44; 45; 46; 47; 48; 49; 50; 51; 52; 53; 54; 55; 56;</span>
<span class="c">//       57; 58; 59; 60; 61; 62; 63; 64; 65; 66; 67; 68; 69; 70; 71; 72; 73; 74;</span>
<span class="c">//       75; 76; 77; 78; 79; 80; 81; 82; 83; 84; 85; 86; 87; 88; 89; 90; 91; 92;</span>
<span class="c">//       93; 94; 95; 96; 97; 98; 99; 100; ...|])|]</span>
<span class="c">//</span>
<span class="c">//val siftedGraph : Sifted&lt;int [] list option&gt; =</span>
<span class="c">//  Sift: Some</span>
<span class="c">//  [[|1; 2; 3; 4; 5; 6; 7; 8; 9; 10|]; null; [|1; 2; 3; 4; 5; 6; 7; 8; 9; 10|];</span>
<span class="c">//   null]</span>
</code></pre></td>
</tr>
</table>
<p>This will return a sifted clone of the original object as well as a collection of all objects that were sifted
from the original input. The sifted copy encapsulated in a wrapper type so that it cannot be consumed while in its partial state.
The original input graph will not be mutated in any way. We can verify that the size of the sifted object has been reduced:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs16', 574)" onmouseover="showTip(event, 'fs16', 574)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs195', 575)" onmouseover="showTip(event, 'fs195', 575)" class="id">ComputeSize</span> <span onmouseout="hideTip(event, 'fs208', 576)" onmouseover="showTip(event, 'fs208', 576)" class="id">siftedGraph</span>

<span class="c">//val it : int64 = 270L</span>
</code></pre></td>
</tr>
</table>
<p>Sifted objects can be put back together by calling</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs211', 577)" onmouseover="showTip(event, 'fs211', 577)" class="id">reconstructed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 578)" onmouseover="showTip(event, 'fs16', 578)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs212', 579)" onmouseover="showTip(event, 'fs212', 579)" class="id">UnSift</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs208', 580)" onmouseover="showTip(event, 'fs208', 580)" class="id">siftedGraph</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs209', 581)" onmouseover="showTip(event, 'fs209', 581)" class="id">siftedValues</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Object-Graph-Visitors" class="anchor" href="#Object-Graph-Visitors">Object Graph Visitors</a></h3>
<p>FsPickler is capable of efficiently traversing arbitrary object graphs (as long as they are serializable)
by exploiting its pickler infrastructure. This can be done by calling the method:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs16', 582)" onmouseover="showTip(event, 'fs16', 582)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs213', 583)" onmouseover="showTip(event, 'fs213', 583)" class="id">VisitObject</span>
</code></pre></td>
</tr>
</table>
<p>which takes as input a serializable object graph and a so-called object visitor:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs214', 584)" onmouseover="showTip(event, 'fs214', 584)" class="if">IObjectVisitor</span> <span class="o">=</span>
  <span class="k">interface</span>
    <span class="k">abstract</span> <span class="k">member</span> <span class="fn">Visit</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs59', 585)" onmouseover="showTip(event, 'fs59', 585)" class="rt">Pickler</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="pn">*</span> <span class="ta">&#39;</span><span class="id">T</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs205', 586)" onmouseover="showTip(event, 'fs205', 586)" class="vt">bool</span>
  <span class="k">end</span>
</code></pre></td>
</tr>
</table>
<p>A few applications of this are provided by the core library:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs216', 593)" onmouseover="showTip(event, 'fs216', 593)" class="id">types</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 594)" onmouseover="showTip(event, 'fs16', 594)" class="rt">FsPickler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs217', 595)" onmouseover="showTip(event, 'fs217', 595)" class="id">GatherTypesInObjectGraph</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs218', 596)" onmouseover="showTip(event, 'fs218', 596)" class="fn">box</span> <span class="n">42</span> <span class="pn">;</span> <span onmouseout="hideTip(event, 'fs218', 597)" onmouseover="showTip(event, 'fs218', 597)" class="fn">box</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs34', 598)" onmouseover="showTip(event, 'fs34', 598)" class="uc">Some</span> <span class="pn">(</span><span class="n">42</span><span class="pn">,</span> <span class="s">&quot;42&quot;</span><span class="pn">)</span><span class="pn">)</span><span class="pn">]</span>

<span class="c">//val types : Type [] =</span>
<span class="c">//  [|Microsoft.FSharp.Collections.FSharpList`1[System.Object]; System.Int32;</span>
<span class="c">//    Microsoft.FSharp.Core.FSharpOption`1[System.Tuple`2[System.Int32,System.String]];</span>
<span class="c">//    System.Tuple`2[System.Int32,System.String]; System.String|]</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Disabling-Subtype-Resolution" class="anchor" href="#Disabling-Subtype-Resolution">Disabling Subtype Resolution</a></h3>
<p>For security reasons, it might often be desirable to disable subtype resolution
when serializing classes:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs219', 599)" onmouseover="showTip(event, 'fs219', 599)" class="id">serializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs220', 600)" onmouseover="showTip(event, 'fs220', 600)" class="id">DisableSubtypeResolution</span> <span class="k">&lt;-</span> <span class="k">true</span>
</code></pre></td>
</tr>
</table>
<p>This essentially disables the serialization of any object whose declaring type
is specified on the serialization itself. Attempting to serialize or deserialize
any such object will result in an exception.</p>
<p>Note that enabling this option prevents serialization of the following types:</p>
<ul>
<li><code>System.Object</code> or any abstract class (excluding F# DUs).</li>
<li>Any delegate instance or F# function.</li>
<li>Any <code>ISerializable</code> class.</li>
</ul>
<p>As a further precaution, it is also possible to disable implicit assembly loading
when deserializing objects:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs219', 601)" onmouseover="showTip(event, 'fs219', 601)" class="id">serializer</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs220', 602)" onmouseover="showTip(event, 'fs220', 602)" class="id">DisableAssemblyLoading</span> <span class="k">&lt;-</span> <span class="k">true</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Defining-Custom-Pickle-Formats" class="anchor" href="#Defining-Custom-Pickle-Formats">Defining Custom Pickle Formats</a></h2>
<p>It is possible to create user-defined pickle formats for FsPickler. One simply needs to implement the interface</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs221', 603)" onmouseover="showTip(event, 'fs221', 603)" class="if">IPickleFormatProvider</span> <span class="o">=</span>
  <span class="k">interface</span>
    <span class="k">abstract</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs100', 604)" onmouseover="showTip(event, 'fs100', 604)" class="prop">Name</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs61', 605)" onmouseover="showTip(event, 'fs61', 605)" class="rt">string</span>
    <span class="k">abstract</span> <span class="prop">DefaultEncoding</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs222', 606)" onmouseover="showTip(event, 'fs222', 606)" class="rt">Encoding</span>
    <span class="k">abstract</span> <span class="k">member</span> <span class="fn">CreateReader</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs6', 607)" onmouseover="showTip(event, 'fs6', 607)" class="d">Stream</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs222', 608)" onmouseover="showTip(event, 'fs222', 608)" class="rt">Encoding</span> <span class="pn">*</span> <span class="id">leaveOpen</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs205', 609)" onmouseover="showTip(event, 'fs205', 609)" class="vt">bool</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs223', 610)" onmouseover="showTip(event, 'fs223', 610)" class="if">IPickleFormatReader</span>
    <span class="k">abstract</span> <span class="k">member</span> <span class="fn">CreateWriter</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs6', 611)" onmouseover="showTip(event, 'fs6', 611)" class="d">Stream</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs222', 612)" onmouseover="showTip(event, 'fs222', 612)" class="rt">Encoding</span> <span class="pn">*</span> <span class="id">leaveOpen</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs205', 613)" onmouseover="showTip(event, 'fs205', 613)" class="vt">bool</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs224', 614)" onmouseover="showTip(event, 'fs224', 614)" class="if">IPickleFormatWriter</span>
  <span class="k">end</span>
</code></pre></td>
</tr>
</table>
<p>which can then be bolted on a class that inherits either of the
<a href="reference/mbrace-fspickler-fspicklerserializer.html"><code>FsPicklerSerializer</code></a> or
<a href="reference/mbrace-fspickler-fspicklertextserializer.html"><code>FsPicklerTextSerializer</code></a>.</p>

<div class="tip" id="fs1">val stream : System.IO.Stream</div>
<div class="tip" id="fs2">module Unchecked<br /><br />from Microsoft.FSharp.Core.Operators</div>
<div class="tip" id="fs3">val defaultof&lt;&#39;T&gt; : &#39;T</div>
<div class="tip" id="fs4">namespace System</div>
<div class="tip" id="fs5">namespace System.IO</div>
<div class="tip" id="fs6">type Stream =<br />&#160;&#160;inherit MarshalByRefObject<br />&#160;&#160;member BeginRead : buffer:byte[] * offset:int * count:int * callback:AsyncCallback * state:obj -&gt; IAsyncResult<br />&#160;&#160;member BeginWrite : buffer:byte[] * offset:int * count:int * callback:AsyncCallback * state:obj -&gt; IAsyncResult<br />&#160;&#160;member CanRead : bool<br />&#160;&#160;member CanSeek : bool<br />&#160;&#160;member CanTimeout : bool<br />&#160;&#160;member CanWrite : bool<br />&#160;&#160;member Close : unit -&gt; unit<br />&#160;&#160;member CopyTo : destination:Stream -&gt; unit + 1 overload<br />&#160;&#160;member CopyToAsync : destination:Stream -&gt; Task + 3 overloads<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;...</div>
<div class="tip" id="fs7">val serializer : MBrace.FsPickler.FsPicklerSerializer</div>
<div class="tip" id="fs8">namespace MBrace</div>
<div class="tip" id="fs9">namespace MBrace.FsPickler</div>
<div class="tip" id="fs10">Multiple items<br />type FsPicklerSerializer =<br />&#160;&#160;new : formatProvider:IPickleFormatProvider * ?typeConverter:ITypeNameConverter * ?picklerResolver:IPicklerResolver -&gt; FsPicklerSerializer<br />&#160;&#160;member ComputeHash : value:&#39;T * ?hashFactory:IHashStreamFactory -&gt; HashResult<br />&#160;&#160;member ComputeSize : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; -&gt; int64<br />&#160;&#160;member CreateObjectSizeCounter : ?encoding:Encoding * ?resetInterval:int64 -&gt; ObjectSizeCounter<br />&#160;&#160;member Deserialize : stream:Stream * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:StreamingContext * ?encoding:Encoding * ?leaveOpen:bool -&gt; &#39;T<br />&#160;&#160;member DeserializeSequence : stream:Stream * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:StreamingContext * ?encoding:Encoding * ?leaveOpen:bool -&gt; seq&lt;&#39;T&gt;<br />&#160;&#160;member DeserializeSequenceUntyped : stream:Stream * pickler:Pickler * ?streamingContext:StreamingContext * ?encoding:Encoding * ?leaveOpen:bool -&gt; IEnumerable<br />&#160;&#160;member DeserializeSifted : stream:Stream * sifted:(int64 * obj) [] * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:StreamingContext * ?encoding:Encoding * ?leaveOpen:bool -&gt; &#39;T<br />&#160;&#160;member DeserializeUntyped : stream:Stream * pickler:Pickler * ?streamingContext:StreamingContext * ?encoding:Encoding * ?leaveOpen:bool -&gt; obj<br />&#160;&#160;member Pickle : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:StreamingContext * ?encoding:Encoding -&gt; byte []<br />&#160;&#160;...<br /><br />--------------------<br />new : formatProvider:MBrace.FsPickler.IPickleFormatProvider * ?typeConverter:MBrace.FsPickler.ITypeNameConverter * ?picklerResolver:MBrace.FsPickler.IPicklerResolver -&gt; MBrace.FsPickler.FsPicklerSerializer</div>
<div class="tip" id="fs11">val textWriter : System.IO.TextWriter</div>
<div class="tip" id="fs12">type TextWriter =<br />&#160;&#160;inherit MarshalByRefObject<br />&#160;&#160;member Close : unit -&gt; unit<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member DisposeAsync : unit -&gt; ValueTask<br />&#160;&#160;member Encoding : Encoding<br />&#160;&#160;member Flush : unit -&gt; unit<br />&#160;&#160;member FlushAsync : unit -&gt; Task<br />&#160;&#160;member FormatProvider : IFormatProvider<br />&#160;&#160;member NewLine : string with get, set<br />&#160;&#160;member Write : value:char -&gt; unit + 18 overloads<br />&#160;&#160;member WriteAsync : value:char -&gt; Task + 5 overloads<br />&#160;&#160;...</div>
<div class="tip" id="fs13">val textReader : System.IO.TextReader</div>
<div class="tip" id="fs14">type TextReader =<br />&#160;&#160;inherit MarshalByRefObject<br />&#160;&#160;member Close : unit -&gt; unit<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Peek : unit -&gt; int<br />&#160;&#160;member Read : unit -&gt; int + 2 overloads<br />&#160;&#160;member ReadAsync : buffer:Memory&lt;char&gt; * ?cancellationToken:CancellationToken -&gt; ValueTask&lt;int&gt; + 1 overload<br />&#160;&#160;member ReadBlock : buffer:Span&lt;char&gt; -&gt; int + 1 overload<br />&#160;&#160;member ReadBlockAsync : buffer:Memory&lt;char&gt; * ?cancellationToken:CancellationToken -&gt; ValueTask&lt;int&gt; + 1 overload<br />&#160;&#160;member ReadLine : unit -&gt; string<br />&#160;&#160;member ReadLineAsync : unit -&gt; Task&lt;string&gt;<br />&#160;&#160;member ReadToEnd : unit -&gt; string<br />&#160;&#160;...</div>
<div class="tip" id="fs15">val binarySerializer : BinarySerializer</div>
<div class="tip" id="fs16">type FsPickler =<br />&#160;&#160;private new : unit -&gt; FsPickler<br />&#160;&#160;static member Clone : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:StreamingContext -&gt; &#39;T<br />&#160;&#160;static member ComputeHash : value:&#39;T * ?hashFactory:IHashStreamFactory -&gt; HashResult<br />&#160;&#160;static member ComputeSize : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; -&gt; int64<br />&#160;&#160;static member CreateBinarySerializer : ?forceLittleEndian:bool * ?typeConverter:ITypeNameConverter * ?picklerResolver:IPicklerResolver -&gt; BinarySerializer<br />&#160;&#160;static member CreateObjectSizeCounter : ?encoding:Encoding * ?resetInterval:int64 -&gt; ObjectSizeCounter<br />&#160;&#160;static member CreateXmlSerializer : ?typeConverter:ITypeNameConverter * ?indent:bool * ?picklerResolver:IPicklerResolver -&gt; XmlSerializer<br />&#160;&#160;static member EnsureSerializable : graph:&#39;T * ?failOnCloneableOnlyTypes:bool -&gt; unit<br />&#160;&#160;static member GatherObjectsInGraph : graph:obj -&gt; obj []<br />&#160;&#160;static member GatherTypesInObjectGraph : graph:obj -&gt; Type []<br />&#160;&#160;...</div>
<div class="tip" id="fs17">static member FsPickler.CreateBinarySerializer : ?forceLittleEndian:bool * ?typeConverter:ITypeNameConverter * ?picklerResolver:IPicklerResolver -&gt; BinarySerializer</div>
<div class="tip" id="fs18">val xmlSerializer : XmlSerializer</div>
<div class="tip" id="fs19">static member FsPickler.CreateXmlSerializer : ?typeConverter:ITypeNameConverter * ?indent:bool * ?picklerResolver:IPicklerResolver -&gt; XmlSerializer</div>
<div class="tip" id="fs20">namespace MBrace.FsPickler.Json</div>
<div class="tip" id="fs21">val jsonSerializer : JsonSerializer</div>
<div class="tip" id="fs22">type FsPickler =<br />&#160;&#160;static member CreateJsonSerializer : ?indent:bool * ?omitHeader:bool * ?typeConverter:ITypeNameConverter * ?picklerResolver:IPicklerResolver -&gt; JsonSerializer</div>
<div class="tip" id="fs23">static member FsPickler.CreateJsonSerializer : ?indent:bool * ?omitHeader:bool * ?typeConverter:ITypeNameConverter * ?picklerResolver:IPicklerResolver -&gt; JsonSerializer</div>
<div class="tip" id="fs24">member FsPicklerTextSerializer.Serialize : writer:System.IO.TextWriter * value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?leaveOpen:bool -&gt; unit<br />member FsPicklerSerializer.Serialize : stream:System.IO.Stream * value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; unit</div>
<div class="tip" id="fs25">member FsPicklerTextSerializer.Deserialize : reader:System.IO.TextReader * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?leaveOpen:bool -&gt; &#39;T<br />member FsPicklerSerializer.Deserialize : stream:System.IO.Stream * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; &#39;T</div>
<div class="tip" id="fs26">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />type float = System.Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float</div>
<div class="tip" id="fs27">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="tip" id="fs28">val pickle : byte []</div>
<div class="tip" id="fs29">member FsPicklerSerializer.Pickle : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding -&gt; byte []</div>
<div class="tip" id="fs30">member FsPicklerSerializer.UnPickle : data:byte [] * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding -&gt; &#39;T</div>
<div class="tip" id="fs31">namespace Microsoft.FSharp.Quotations</div>
<div class="tip" id="fs32">Multiple items<br />type Expr =<br />&#160;&#160;override Equals : obj:obj -&gt; bool<br />&#160;&#160;member GetFreeVars : unit -&gt; seq&lt;Var&gt;<br />&#160;&#160;member Substitute : substitution:(Var -&gt; Expr option) -&gt; Expr<br />&#160;&#160;member ToString : full:bool -&gt; string<br />&#160;&#160;member CustomAttributes : Expr list<br />&#160;&#160;member Type : Type<br />&#160;&#160;static member AddressOf : target:Expr -&gt; Expr<br />&#160;&#160;static member AddressSet : target:Expr * value:Expr -&gt; Expr<br />&#160;&#160;static member Application : functionExpr:Expr * argument:Expr -&gt; Expr<br />&#160;&#160;static member Applications : functionExpr:Expr * arguments:Expr list list -&gt; Expr<br />&#160;&#160;...<br /><br />--------------------<br />type Expr&lt;&#39;T&gt; =<br />&#160;&#160;inherit Expr<br />&#160;&#160;member Raw : Expr</div>
<div class="tip" id="fs33">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="tip" id="fs34">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs35">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs36">type &#39;T option = Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs37">val text : string</div>
<div class="tip" id="fs38">member FsPicklerTextSerializer.PickleToString : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext -&gt; string</div>
<div class="tip" id="fs39">val x : int</div>
<div class="tip" id="fs40">member FsPicklerTextSerializer.UnPickleOfString : pickle:string * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext -&gt; &#39;T</div>
<div class="tip" id="fs41">Multiple items<br />val seq : seq&lt;string&gt;<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;</div>
<div class="tip" id="fs42">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs43">val initInfinite : initializer:(int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;</div>
<div class="tip" id="fs44">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="tip" id="fs45">val take : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;</div>
<div class="tip" id="fs46">val length : int</div>
<div class="tip" id="fs47">member FsPicklerSerializer.SerializeSequence : stream:System.IO.Stream * sequence:seq&lt;&#39;T&gt; * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; int</div>
<div class="tip" id="fs48">val seq&#39; : seq&lt;int&gt;</div>
<div class="tip" id="fs49">member FsPicklerSerializer.DeserializeSequence : stream:System.IO.Stream * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding * ?leaveOpen:bool -&gt; seq&lt;&#39;T&gt;</div>
<div class="tip" id="fs50">val toArray : source:seq&lt;&#39;T&gt; -&gt; &#39;T []</div>
<div class="tip" id="fs51">Multiple items<br />type Pickler =<br />&#160;&#160;private new : Type -&gt; Pickler<br />&#160;&#160;abstract member private Cast : unit -&gt; Pickler&lt;&#39;S&gt;<br />&#160;&#160;abstract member private Unpack : IPicklerUnpacker&lt;&#39;U&gt; -&gt; &#39;U<br />&#160;&#160;abstract member private UntypedAccept : state:VisitState -&gt; value:obj -&gt; unit<br />&#160;&#160;abstract member private UntypedClone : state:CloneState -&gt; value:obj -&gt; obj<br />&#160;&#160;abstract member private UntypedRead : state:ReadState -&gt; tag:string -&gt; obj<br />&#160;&#160;abstract member private UntypedWrite : state:WriteState -&gt; tag:string -&gt; value:obj -&gt; unit<br />&#160;&#160;abstract member ImplementationType : Type<br />&#160;&#160;abstract member IsCacheByRef : bool<br />&#160;&#160;abstract member IsCloneableOnly : bool<br />&#160;&#160;...<br /><br />--------------------<br />type Pickler&lt;&#39;T&gt; =<br />&#160;&#160;{ Write: WriteState -&gt; &#39;T -&gt; unit<br />&#160;&#160;&#160;&#160;Read: ReadState -&gt; &#39;T }</div>
<div class="tip" id="fs52">Pickler.Write: WriteState -&gt; &#39;T -&gt; unit</div>
<div class="tip" id="fs53">type WriteState =<br />&#160;&#160;private new : formatter:IPickleFormatWriter * resolver:IPicklerResolver * reflectionCache:ReflectionCache * isHashComputation:bool * disableSubtypeResolution:bool * ?streamingContext:StreamingContext * ?sifter:IObjectSifter -&gt; WriteState<br />&#160;&#160;member private GetObjectId : obj:obj * firstTime:byref&lt;bool&gt; -&gt; int64<br />&#160;&#160;member private Reset : unit -&gt; unit<br />&#160;&#160;member private CyclicObjectSet : HashSet&lt;int64&gt;<br />&#160;&#160;member DisableSubtypeResolution : bool<br />&#160;&#160;member private Formatter : IPickleFormatWriter<br />&#160;&#160;member IsHashComputation : bool<br />&#160;&#160;member private ObjectCount : int64<br />&#160;&#160;member private ObjectStack : Stack&lt;int64&gt;<br />&#160;&#160;member private PicklerResolver : IPicklerResolver<br />&#160;&#160;...</div>
<div class="tip" id="fs54">type unit = Unit</div>
<div class="tip" id="fs55">Pickler.Read: ReadState -&gt; &#39;T</div>
<div class="tip" id="fs56">type ReadState =<br />&#160;&#160;private new : formatter:IPickleFormatReader * resolver:IPicklerResolver * reflectionCache:ReflectionCache * disableSubtypeResolution:bool * disableAssemblyLoading:bool * ?streamingContext:StreamingContext * ?sifted:(int64 * obj) [] -&gt; ReadState<br />&#160;&#160;member private EarlyRegisterArray : array:Array -&gt; unit<br />&#160;&#160;member private NextObjectId : unit -&gt; int64<br />&#160;&#160;member private Reset : unit -&gt; unit<br />&#160;&#160;member DisableAssemblyLoading : bool<br />&#160;&#160;member DisableSubtypeResolution : bool<br />&#160;&#160;member private Formatter : IPickleFormatReader<br />&#160;&#160;member private IsUnSifting : bool<br />&#160;&#160;member private ObjectCache : Dictionary&lt;int64,obj&gt;<br />&#160;&#160;member private ObjectCount : int64<br />&#160;&#160;...</div>
<div class="tip" id="fs57">namespace MBrace.FsPickler.Combinators</div>
<div class="tip" id="fs58">Multiple items<br />val int : Pickler&lt;int&gt;<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="tip" id="fs59">Multiple items<br />module Pickler<br /><br />from MBrace.FsPickler.Combinators<br /><br />--------------------<br />type Pickler =<br />&#160;&#160;private new : Type -&gt; Pickler<br />&#160;&#160;abstract member private Cast : unit -&gt; Pickler&lt;&#39;S&gt;<br />&#160;&#160;abstract member private Unpack : IPicklerUnpacker&lt;&#39;U&gt; -&gt; &#39;U<br />&#160;&#160;abstract member private UntypedAccept : state:VisitState -&gt; value:obj -&gt; unit<br />&#160;&#160;abstract member private UntypedClone : state:CloneState -&gt; value:obj -&gt; obj<br />&#160;&#160;abstract member private UntypedRead : state:ReadState -&gt; tag:string -&gt; obj<br />&#160;&#160;abstract member private UntypedWrite : state:WriteState -&gt; tag:string -&gt; value:obj -&gt; unit<br />&#160;&#160;abstract member ImplementationType : Type<br />&#160;&#160;abstract member IsCacheByRef : bool<br />&#160;&#160;abstract member IsCloneableOnly : bool<br />&#160;&#160;...<br /><br />--------------------<br />type Pickler&lt;&#39;T&gt; =<br />&#160;&#160;inherit Pickler<br />&#160;&#160;private new : unit -&gt; Pickler&lt;&#39;T&gt;<br />&#160;&#160;abstract member Accept : state:VisitState -&gt; value:&#39;T -&gt; unit<br />&#160;&#160;abstract member Clone : state:CloneState -&gt; value:&#39;T -&gt; &#39;T<br />&#160;&#160;abstract member Read : state:ReadState -&gt; tag:string -&gt; &#39;T<br />&#160;&#160;abstract member Write : state:WriteState -&gt; tag:string -&gt; value:&#39;T -&gt; unit<br />&#160;&#160;override private Unpack : IPicklerUnpacker&lt;&#39;R&gt; -&gt; &#39;R<br />&#160;&#160;override private UntypedAccept : state:VisitState -&gt; value:obj -&gt; unit<br />&#160;&#160;override private UntypedClone : state:CloneState -&gt; obj -&gt; obj<br />&#160;&#160;override private UntypedRead : state:ReadState -&gt; tag:string -&gt; obj<br />&#160;&#160;...</div>
<div class="tip" id="fs60">val int : Pickler&lt;int&gt;</div>
<div class="tip" id="fs61">Multiple items<br />val string : Pickler&lt;string&gt;<br /><br />--------------------<br />type string = System.String</div>
<div class="tip" id="fs62">val string : Pickler&lt;string&gt;</div>
<div class="tip" id="fs63">val dateTime : Pickler&lt;System.DateTime&gt;</div>
<div class="tip" id="fs64">val p1 : Pickler&lt;int * System.DateTime&gt;</div>
<div class="tip" id="fs65">val pair : f:Pickler&lt;&#39;a&gt; -&gt; g:Pickler&lt;&#39;b&gt; -&gt; Pickler&lt;&#39;a * &#39;b&gt;</div>
<div class="tip" id="fs66">val p2 : Pickler&lt;string option&gt;</div>
<div class="tip" id="fs67">val option : f:Pickler&lt;&#39;T&gt; -&gt; Pickler&lt;&#39;T option&gt;</div>
<div class="tip" id="fs68">val p3 : Pickler&lt;string option list&gt;</div>
<div class="tip" id="fs69">val list : f:Pickler&lt;&#39;T&gt; -&gt; Pickler&lt;&#39;T list&gt;</div>
<div class="tip" id="fs70">val p4 : Pickler&lt;(int * System.DateTime) [,]&gt;</div>
<div class="tip" id="fs71">val array2D : f:Pickler&lt;&#39;T&gt; -&gt; Pickler&lt;&#39;T [,]&gt;</div>
<div class="tip" id="fs72">val p5 : Pickler&lt;int * string option list&gt;</div>
<div class="tip" id="fs73">val auto&lt;&#39;T&gt; : Pickler&lt;&#39;T&gt;</div>
<div class="tip" id="fs74">val t1 : byte []</div>
<div class="tip" id="fs75">module Binary<br /><br />from MBrace.FsPickler.Combinators</div>
<div class="tip" id="fs76">val pickle : pickler:Pickler&lt;&#39;T&gt; -&gt; value:&#39;T -&gt; byte []</div>
<div class="tip" id="fs77">val t2 : string</div>
<div class="tip" id="fs78">Multiple items<br />module Json<br /><br />from MBrace.FsPickler.Combinators<br /><br />--------------------<br />namespace MBrace.FsPickler.Json</div>
<div class="tip" id="fs79">val pickle : pickler:Pickler&lt;&#39;T&gt; -&gt; value:&#39;T -&gt; string</div>
<div class="tip" id="fs80">val unpickle : pickler:Pickler&lt;&#39;T&gt; -&gt; pickle:string -&gt; &#39;T</div>
<div class="tip" id="fs81">type Peano =<br />&#160;&#160;| Zero<br />&#160;&#160;| Succ of Peano</div>
<div class="tip" id="fs82">union case Peano.Zero: Peano</div>
<div class="tip" id="fs83">union case Peano.Succ: Peano -&gt; Peano</div>
<div class="tip" id="fs84">val pp : Pickler&lt;Peano&gt;</div>
<div class="tip" id="fs85">val fix : F:(Pickler&lt;&#39;T&gt; -&gt; Pickler&lt;&#39;T&gt;) -&gt; Pickler&lt;&#39;T&gt;</div>
<div class="tip" id="fs86">val peano : Pickler&lt;Peano&gt;</div>
<div class="tip" id="fs87">val wrap : recover:(&#39;a -&gt; &#39;b) -&gt; convert:(&#39;b -&gt; &#39;a) -&gt; p:Pickler&lt;&#39;a&gt; -&gt; Pickler&lt;&#39;b&gt;</div>
<div class="tip" id="fs88">val p : Peano</div>
<div class="tip" id="fs89">val unpickle : pickler:Pickler&lt;&#39;T&gt; -&gt; pickle:byte [] -&gt; &#39;T</div>
<div class="tip" id="fs90">type Tree&lt;&#39;T&gt; =<br />&#160;&#160;| Leaf<br />&#160;&#160;| Node of &#39;T * Tree&lt;&#39;T&gt; list</div>
<div class="tip" id="fs91">union case Tree.Leaf: Tree&lt;&#39;T&gt;</div>
<div class="tip" id="fs92">union case Tree.Node: &#39;T * Tree&lt;&#39;T&gt; list -&gt; Tree&lt;&#39;T&gt;</div>
<div class="tip" id="fs93">val mkTree : ep:Pickler&lt;&#39;T&gt; -&gt; Pickler&lt;Tree&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs94">val ep : Pickler&lt;&#39;T&gt;</div>
<div class="tip" id="fs95">val tree : Pickler&lt;Tree&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs96">val t : &#39;T</div>
<div class="tip" id="fs97">val c : Tree&lt;&#39;T&gt; list</div>
<div class="tip" id="fs98">module Xml<br /><br />from MBrace.FsPickler.Combinators</div>
<div class="tip" id="fs99">val tree&lt;&#39;T&gt; : Pickler&lt;Tree&lt;&#39;T&gt;&gt;</div>
<div class="tip" id="fs100">type Name =<br />&#160;&#160;{ FirstName: string<br />&#160;&#160;&#160;&#160;MiddleName: string option<br />&#160;&#160;&#160;&#160;Surname: string }</div>
<div class="tip" id="fs101">Name.FirstName: string</div>
<div class="tip" id="fs102">Name.MiddleName: string option</div>
<div class="tip" id="fs103">Name.Surname: string</div>
<div class="tip" id="fs104">val nameP : Pickler&lt;Name&gt;</div>
<div class="tip" id="fs105">val fromSerializationInfo : ctor:(System.Runtime.Serialization.SerializationInfo -&gt; &#39;T) -&gt; proj:(System.Runtime.Serialization.SerializationInfo -&gt; &#39;T -&gt; unit) -&gt; Pickler&lt;&#39;T&gt;</div>
<div class="tip" id="fs106">val si : System.Runtime.Serialization.SerializationInfo</div>
<div class="tip" id="fs107">member System.Runtime.Serialization.SerializationInfo.Get : name:string -&gt; &#39;T</div>
<div class="tip" id="fs108">member System.Runtime.Serialization.SerializationInfo.TryGet : name:string -&gt; &#39;T option</div>
<div class="tip" id="fs109">val p : Name</div>
<div class="tip" id="fs110">member System.Runtime.Serialization.SerializationInfo.Add : name:string * value:&#39;T -&gt; unit</div>
<div class="tip" id="fs111">val mn : string</div>
<div class="tip" id="fs112">type Person =<br />&#160;&#160;{ Address: string<br />&#160;&#160;&#160;&#160;Age: int<br />&#160;&#160;&#160;&#160;Name: string }</div>
<div class="tip" id="fs113">Person.Address: string</div>
<div class="tip" id="fs114">Person.Age: int</div>
<div class="tip" id="fs115">Multiple items<br />Person.Name: string<br /><br />--------------------<br />type Name =<br />&#160;&#160;{ FirstName: string<br />&#160;&#160;&#160;&#160;MiddleName: string option<br />&#160;&#160;&#160;&#160;Surname: string }</div>
<div class="tip" id="fs116">val makePerson : name:string -&gt; age:int -&gt; address:string -&gt; Person</div>
<div class="tip" id="fs117">val name : string</div>
<div class="tip" id="fs118">val age : int</div>
<div class="tip" id="fs119">val address : string</div>
<div class="tip" id="fs120">val personPickler : Pickler&lt;Person&gt;</div>
<div class="tip" id="fs121">val product : f:&#39;a -&gt; Pickler.ProductInternals.Wrap&lt;(Pickler.ProductInternals.Part&lt;&#39;b,&#39;a,&#39;c&gt; -&gt; Pickler&lt;&#39;b&gt;)&gt;</div>
<div class="tip" id="fs122">val field : f:(&#39;a -&gt; &#39;b) -&gt; p:Pickler&lt;&#39;b&gt; -&gt; Pickler.ProductInternals.Wrap&lt;(Pickler.ProductInternals.Part&lt;&#39;a,&#39;c,&#39;d&gt; -&gt; Pickler.ProductInternals.Part&lt;&#39;a,(&#39;b -&gt; &#39;c),(&#39;b * &#39;d)&gt;)&gt;</div>
<div class="tip" id="fs123">val p : Person</div>
<div class="tip" id="fs124">Person.Name: string</div>
<div class="tip" id="fs125">type U =<br />&#160;&#160;| Case1<br />&#160;&#160;| Case2 of int<br />&#160;&#160;| Case3 of string * int</div>
<div class="tip" id="fs126">union case U.Case1: U</div>
<div class="tip" id="fs127">union case U.Case2: int -&gt; U</div>
<div class="tip" id="fs128">union case U.Case3: string * int -&gt; U</div>
<div class="tip" id="fs129">val uPickler : Pickler&lt;U&gt;</div>
<div class="tip" id="fs130">val sum : f:(&#39;a -&gt; &#39;b) -&gt; Pickler.SumInternals.Wrap&lt;(Pickler.SumInternals.Part&lt;&#39;a,&#39;b,&#39;c,&#39;c&gt; -&gt; Pickler&lt;&#39;a&gt;)&gt;</div>
<div class="tip" id="fs131">val x : U</div>
<div class="tip" id="fs132">val k1 : (unit -&gt; Choice&lt;unit,Choice&lt;int,(string * int)&gt;&gt;)</div>
<div class="tip" id="fs133">val k2 : (int -&gt; Choice&lt;unit,Choice&lt;int,(string * int)&gt;&gt;)</div>
<div class="tip" id="fs134">val k3 : (string * int -&gt; Choice&lt;unit,Choice&lt;int,(string * int)&gt;&gt;)</div>
<div class="tip" id="fs135">val x : string</div>
<div class="tip" id="fs136">val y : int</div>
<div class="tip" id="fs137">val variant : v:&#39;a -&gt; Pickler.SumInternals.Case&lt;(unit -&gt; &#39;a),Pickler&lt;unit&gt;&gt;</div>
<div class="tip" id="fs138">val case : inj:&#39;a -&gt; p:&#39;b -&gt; Pickler.SumInternals.Case&lt;&#39;a,&#39;b&gt;</div>
<div class="tip" id="fs139">Multiple items<br />union case CustomPicklerRegistration.CustomPickler: factory: IPicklerResolver -&gt; Pickler -&gt; CustomPicklerRegistration<br /><br />--------------------<br />type CustomPicklerAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; CustomPicklerAttribute<br /><br />--------------------<br />new : unit -&gt; CustomPicklerAttribute</div>
<div class="tip" id="fs140">Multiple items<br />type CustomClass&lt;&#39;T,&#39;S&gt; =<br />&#160;&#160;new : x:&#39;T * y:&#39;S -&gt; CustomClass&lt;&#39;T,&#39;S&gt;<br />&#160;&#160;member X : &#39;T<br />&#160;&#160;member Y : &#39;S<br />&#160;&#160;static member CreatePickler : resolver:IPicklerResolver -&gt; Pickler&lt;CustomClass&lt;&#39;T,&#39;S&gt;&gt;<br /><br />--------------------<br />new : x:&#39;T * y:&#39;S -&gt; CustomClass&lt;&#39;T,&#39;S&gt;</div>
<div class="tip" id="fs141">val x : &#39;T</div>
<div class="tip" id="fs142">val y : &#39;S</div>
<div class="tip" id="fs143">member CustomClass.X : &#39;T</div>
<div class="tip" id="fs144">val __ : CustomClass&lt;&#39;T,&#39;S&gt;</div>
<div class="tip" id="fs145">member CustomClass.Y : &#39;S</div>
<div class="tip" id="fs146">val resolver : IPicklerResolver</div>
<div class="tip" id="fs147">type IPicklerResolver =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member IsSerializable : unit -&gt; bool<br />&#160;&#160;&#160;&#160;abstract member IsSerializable : Type -&gt; bool<br />&#160;&#160;&#160;&#160;abstract member Resolve : unit -&gt; Pickler&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;abstract member Resolve : Type -&gt; Pickler<br />&#160;&#160;end</div>
<div class="tip" id="fs148">val xp : Pickler&lt;&#39;T&gt;</div>
<div class="tip" id="fs149">abstract member IPicklerResolver.Resolve : unit -&gt; Pickler&lt;&#39;T&gt;<br />abstract member IPicklerResolver.Resolve : System.Type -&gt; Pickler</div>
<div class="tip" id="fs150">val yp : Pickler&lt;&#39;S&gt;</div>
<div class="tip" id="fs151">val writer : (WriteState -&gt; CustomClass&lt;&#39;T,&#39;S&gt; -&gt; unit)</div>
<div class="tip" id="fs152">val ws : WriteState</div>
<div class="tip" id="fs153">val c : CustomClass&lt;&#39;T,&#39;S&gt;</div>
<div class="tip" id="fs154">abstract member Pickler.Write : state:WriteState -&gt; tag:string -&gt; value:&#39;T -&gt; unit</div>
<div class="tip" id="fs155">property CustomClass.X: &#39;T with get</div>
<div class="tip" id="fs156">property CustomClass.Y: &#39;S with get</div>
<div class="tip" id="fs157">val reader : (ReadState -&gt; CustomClass&lt;&#39;T,&#39;S&gt;)</div>
<div class="tip" id="fs158">val rs : ReadState</div>
<div class="tip" id="fs159">abstract member Pickler.Read : state:ReadState -&gt; tag:string -&gt; &#39;T</div>
<div class="tip" id="fs160">static member Pickler.FromPrimitives : reader:(ReadState -&gt; &#39;T) * writer:(WriteState -&gt; &#39;T -&gt; unit) * ?cloner:(CloneState -&gt; &#39;T -&gt; &#39;T) * ?accepter:(VisitState -&gt; &#39;T -&gt; unit) * ?cacheByRef:bool * ?useWithSubtypes:bool -&gt; Pickler&lt;&#39;T&gt;</div>
<div class="tip" id="fs161">Multiple items<br />type RecursiveClass =<br />&#160;&#160;new : ?nested:RecursiveClass -&gt; RecursiveClass<br />&#160;&#160;member Value : RecursiveClass option<br />&#160;&#160;static member CreatePickler : resolver:IPicklerResolver -&gt; Pickler&lt;RecursiveClass&gt;<br /><br />--------------------<br />new : ?nested:RecursiveClass -&gt; RecursiveClass</div>
<div class="tip" id="fs162">val nested : RecursiveClass option</div>
<div class="tip" id="fs163">val self : Pickler&lt;RecursiveClass&gt;</div>
<div class="tip" id="fs164">val x : RecursiveClass option</div>
<div class="tip" id="fs165">val rc : RecursiveClass</div>
<div class="tip" id="fs166">property RecursiveClass.Value: RecursiveClass option with get</div>
<div class="tip" id="fs167">val p : Pickler&lt;RecursiveClass&gt;</div>
<div class="tip" id="fs168">static member FsPickler.GeneratePickler : unit -&gt; Pickler&lt;&#39;T&gt;<br />static member FsPickler.GeneratePickler : t:System.Type -&gt; Pickler</div>
<div class="tip" id="fs169">Multiple items<br />type AutoSerializableAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : value:bool -&gt; AutoSerializableAttribute<br />&#160;&#160;member Value : bool<br /><br />--------------------<br />new : value:bool -&gt; AutoSerializableAttribute</div>
<div class="tip" id="fs170">Multiple items<br />type NonSerializable =<br />&#160;&#160;new : value:int -&gt; NonSerializable<br />&#160;&#160;member Value : int<br /><br />--------------------<br />new : value:int -&gt; NonSerializable</div>
<div class="tip" id="fs171">val value : int</div>
<div class="tip" id="fs172">val mkPickler : resolver:IPicklerResolver -&gt; Pickler&lt;NonSerializable&gt;</div>
<div class="tip" id="fs173">val intPickler : Pickler&lt;int&gt;</div>
<div class="tip" id="fs174">val writer : (WriteState -&gt; NonSerializable -&gt; unit)</div>
<div class="tip" id="fs175">val w : WriteState</div>
<div class="tip" id="fs176">val ns : NonSerializable</div>
<div class="tip" id="fs177">property NonSerializable.Value: int with get</div>
<div class="tip" id="fs178">val reader : (ReadState -&gt; NonSerializable)</div>
<div class="tip" id="fs179">val r : ReadState</div>
<div class="tip" id="fs180">val v : int</div>
<div class="tip" id="fs181">val registry : CustomPicklerRegistry</div>
<div class="tip" id="fs182">Multiple items<br />type CustomPicklerRegistry =<br />&#160;&#160;interface ICustomPicklerRegistry<br />&#160;&#160;new : unit -&gt; CustomPicklerRegistry<br />&#160;&#160;member DeclareSerializable : unit -&gt; unit<br />&#160;&#160;member DeclareSerializable : [&lt;ParamArray&gt;] typesToSerialize:Type [] -&gt; unit<br />&#160;&#160;member DeclareSerializable : isSerializable:(Type -&gt; bool) -&gt; unit<br />&#160;&#160;member RegisterFactory : factory:(IPicklerResolver -&gt; Pickler&lt;&#39;T&gt;) -&gt; unit<br />&#160;&#160;member RegisterPickler : pickler:Pickler -&gt; unit<br />&#160;&#160;member RegisterPicklers : [&lt;ParamArray&gt;] picklers:Pickler [] -&gt; unit<br />&#160;&#160;member IsGenerationStarted : bool<br />&#160;&#160;member PicklerFactories : Type []<br />&#160;&#160;...<br /><br />--------------------<br />new : unit -&gt; CustomPicklerRegistry</div>
<div class="tip" id="fs183">member CustomPicklerRegistry.RegisterFactory : factory:(IPicklerResolver -&gt; Pickler&lt;&#39;T&gt;) -&gt; unit</div>
<div class="tip" id="fs184">val cache : PicklerCache</div>
<div class="tip" id="fs185">type PicklerCache =<br />&#160;&#160;interface IPicklerResolver<br />&#160;&#160;private new : registry:ICustomPicklerRegistry -&gt; PicklerCache<br />&#160;&#160;member GeneratePickler : unit -&gt; Pickler&lt;&#39;T&gt;<br />&#160;&#160;member GeneratePickler : t:Type -&gt; Pickler<br />&#160;&#160;member IsPicklerGenerated : t:Type -&gt; bool<br />&#160;&#160;member IsSerializableType : unit -&gt; bool<br />&#160;&#160;member IsSerializableType : t:Type -&gt; bool<br />&#160;&#160;member Registry : ICustomPicklerRegistry<br />&#160;&#160;static member FromCustomPicklerRegistry : registry:ICustomPicklerRegistry -&gt; PicklerCache<br />&#160;&#160;static member Instance : PicklerCache</div>
<div class="tip" id="fs186">static member PicklerCache.FromCustomPicklerRegistry : registry:ICustomPicklerRegistry -&gt; PicklerCache</div>
<div class="tip" id="fs187">val jsonSer : JsonSerializer</div>
<div class="tip" id="fs188">member CustomPicklerRegistry.DeclareSerializable : unit -&gt; unit<br />member CustomPicklerRegistry.DeclareSerializable : [&lt;System.ParamArray&gt;] typesToSerialize:System.Type [] -&gt; unit<br />member CustomPicklerRegistry.DeclareSerializable : isSerializable:(System.Type -&gt; bool) -&gt; unit</div>
<div class="tip" id="fs189">val clonedValue : Choice&lt;string,char list&gt; list</div>
<div class="tip" id="fs190">static member FsPickler.Clone : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext -&gt; &#39;T</div>
<div class="tip" id="fs191">union case Choice.Choice1Of2: &#39;T1 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs192">union case Choice.Choice2Of2: &#39;T2 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs193">val hash : Hashing.HashResult</div>
<div class="tip" id="fs194">static member FsPickler.ComputeHash : value:&#39;T * ?hashFactory:Hashing.IHashStreamFactory -&gt; Hashing.HashResult</div>
<div class="tip" id="fs195">static member FsPickler.ComputeSize : value:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; -&gt; int64</div>
<div class="tip" id="fs196">val typedPickle : Pickle&lt;int list&gt;</div>
<div class="tip" id="fs197">member FsPicklerSerializer.PickleTyped : value:&#39;T * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding -&gt; Pickle&lt;&#39;T&gt;</div>
<div class="tip" id="fs198">val value : int list</div>
<div class="tip" id="fs199">member FsPicklerSerializer.UnPickleTyped : pickle:Pickle&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?encoding:System.Text.Encoding -&gt; &#39;T</div>
<div class="tip" id="fs200">val small : int []</div>
<div class="tip" id="fs201">val large : int []</div>
<div class="tip" id="fs202">val graph : int [] list option</div>
<div class="tip" id="fs203">val sifter : _arg1:obj -&gt; bool</div>
<div class="tip" id="fs204">type obj = System.Object</div>
<div class="tip" id="fs205">type bool = System.Boolean</div>
<div class="tip" id="fs206">val ts : int []</div>
<div class="tip" id="fs207">property System.Array.Length: int with get</div>
<div class="tip" id="fs208">val siftedGraph : Sifted&lt;int [] list option&gt;</div>
<div class="tip" id="fs209">val siftedValues : (int64 * obj) []</div>
<div class="tip" id="fs210">static member FsPickler.Sift : value:&#39;T * sifter:(obj -&gt; bool) * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext -&gt; Sifted&lt;&#39;T&gt; * (int64 * obj) []<br />static member FsPickler.Sift : value:&#39;T * sifter:IObjectSifter * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext -&gt; Sifted&lt;&#39;T&gt; * (int64 * obj) []</div>
<div class="tip" id="fs211">val reconstructed : int [] list option</div>
<div class="tip" id="fs212">static member FsPickler.UnSift : sifted:Sifted&lt;&#39;T&gt; * values:(int64 * obj) [] * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext -&gt; &#39;T</div>
<div class="tip" id="fs213">static member FsPickler.VisitObject : visitor:IObjectVisitor * graph:&#39;T * ?pickler:Pickler&lt;&#39;T&gt; * ?streamingContext:System.Runtime.Serialization.StreamingContext * ?visitOrder:VisitOrder -&gt; unit</div>
<div class="tip" id="fs214">type IObjectVisitor =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Visit : Pickler&lt;&#39;T&gt; * &#39;T -&gt; bool<br />&#160;&#160;end</div>
<div class="tip" id="fs215">namespace System.Text</div>
<div class="tip" id="fs216">val types : System.Type []</div>
<div class="tip" id="fs217">static member FsPickler.GatherTypesInObjectGraph : graph:obj -&gt; System.Type []</div>
<div class="tip" id="fs218">val box : value:&#39;T -&gt; obj</div>
<div class="tip" id="fs219">val serializer : FsPicklerSerializer</div>
<div class="tip" id="fs220"></div>
<div class="tip" id="fs221">type IPickleFormatProvider =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member CreateReader : Stream * Encoding * leaveOpen:bool -&gt; IPickleFormatReader<br />&#160;&#160;&#160;&#160;abstract member CreateWriter : Stream * Encoding * leaveOpen:bool -&gt; IPickleFormatWriter<br />&#160;&#160;&#160;&#160;abstract member DefaultEncoding : Encoding<br />&#160;&#160;&#160;&#160;abstract member Name : string<br />&#160;&#160;end</div>
<div class="tip" id="fs222">type Encoding =<br />&#160;&#160;member BodyName : string<br />&#160;&#160;member Clone : unit -&gt; obj<br />&#160;&#160;member CodePage : int<br />&#160;&#160;member DecoderFallback : DecoderFallback with get, set<br />&#160;&#160;member EncoderFallback : EncoderFallback with get, set<br />&#160;&#160;member EncodingName : string<br />&#160;&#160;member Equals : value:obj -&gt; bool<br />&#160;&#160;member GetByteCount : chars:char[] -&gt; int + 5 overloads<br />&#160;&#160;member GetBytes : chars:char[] -&gt; byte[] + 7 overloads<br />&#160;&#160;member GetCharCount : bytes:byte[] -&gt; int + 3 overloads<br />&#160;&#160;...</div>
<div class="tip" id="fs223">type IPickleFormatReader =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit IDisposable<br />&#160;&#160;&#160;&#160;abstract member BeginReadObject : tag:string -&gt; ObjectFlags<br />&#160;&#160;&#160;&#160;abstract member BeginReadRoot : tag:string -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member EndReadObject : unit -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member EndReadRoot : unit -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member ReadBigInteger : tag:string -&gt; bigint<br />&#160;&#160;&#160;&#160;abstract member ReadBoolean : tag:string -&gt; bool<br />&#160;&#160;&#160;&#160;abstract member ReadByte : tag:string -&gt; byte<br />&#160;&#160;&#160;&#160;abstract member ReadBytes : tag:string -&gt; byte []<br />&#160;&#160;&#160;&#160;abstract member ReadCachedObjectId : unit -&gt; int64<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end</div>
<div class="tip" id="fs224">type IPickleFormatWriter =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit IDisposable<br />&#160;&#160;&#160;&#160;abstract member BeginWriteObject : tag:string -&gt; objectFlags:ObjectFlags -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member BeginWriteRoot : tag:string -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member EndWriteObject : unit -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member EndWriteRoot : unit -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member Flush : unit -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member WriteBigInteger : tag:string -&gt; value:bigint -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member WriteBoolean : tag:string -&gt; value:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member WriteByte : tag:string -&gt; value:byte -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member WriteBytes : tag:string -&gt; value:byte [] -&gt; unit<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end</div>

        </div>
        <div class="span3">
          <a target="_blank" href="http://mbrace.io/">
      <img src="/FsPickler/img/mbrace.png" alt="F# Project" style="width:150px;margin:10px" /> 
      </a>
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FsPickler</li>
            <li><a href="/FsPickler/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://www.nuget.org/packages/FsPickler">Get Library via NuGet</a></li>
            <li><a href="http://github.com/mbraceproject/FsPickler">Source Code on GitHub</a></li>
            <li><a href="http://github.com/mbraceproject/FsPickler/blob/master/License.md">License</a></li>
            <li><a href="http://github.com/mbraceproject/FsPickler/blob/master/RELEASE_NOTES.md">Release Notes</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/FsPickler/tutorial.html">Tutorial</a></li>
            <li><a href="/FsPickler/overview.html">Technical Overview</a></li>
            <li><a href="https://github.com/mbraceproject/FsPickler/wiki/.NET-Core-Benchmarks">Performance</a></li>
            <li><a href="/FsPickler/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/mbraceproject/FsPickler"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
